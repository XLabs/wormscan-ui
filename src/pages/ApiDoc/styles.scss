@import "src/styles/globals.scss";

.api-doc {
  position: relative;
  margin: 16px 0 48px 0;

  @include desktop {
    margin: 80px 0;
  }

  &-top {
    &-header {
      @include centered-row;
      flex-wrap: wrap;
      gap: 32px;
      justify-content: space-between;
      margin-bottom: 32px;

      @include desktop {
        margin-bottom: 24px;
      }

      &-title {
        @include centered-row;
        @include text-roboto-heading-500;
        color: var(--color-white);

        & > .version {
          @include text-roboto-body-500;
          background-color: var(--color-primary-100);
          border-radius: 27px;
          color: var(--color-black);
          padding: 2px 6px;
          max-width: max-content;
          transform: translate(8px, -8px);
        }
      }

      &-links {
        @include centered-row;
        flex-wrap: wrap;
        gap: 24px;

        & > a {
          @include button-ghost;
        }
      }
    }

    &-description {
      @include text-roboto-body-400;
      background-color: var(--color-gray-950);
      border-radius: 16px;
      color: var(--color-gray-400);
      margin-bottom: 36px;
      padding: 16px;

      @include desktop {
        margin-bottom: 64px;
        padding: 20px;
      }

      & > ul {
        padding: 20px;
      }
    }
  }

  .swagger-ui {
    & .loading-container {
      background-color: var(--color-gray-950);
      border-radius: 12px;
      height: 77px;
      margin-bottom: 4px;
      position: relative;

      & > .loading {
        border-radius: 8px;
        bottom: 0;
        height: 28px;
        left: 12px;
        margin: auto 0;
        overflow: hidden;
        position: absolute;
        right: 12px;
        top: 0;

        @include desktop {
          left: 20px;
          right: 20px;
        }

        &::before {
          animation: loading-list 2s linear infinite;
          background-image: linear-gradient(
            120deg,
            var(--color-white-05) 0%,
            var(--color-white-10) 25%,
            var(--color-white-05) 50%,
            var(--color-white-10) 75%,
            var(--color-white-05) 100%
          );
          bottom: 0;
          content: "";
          height: 28px;
          left: 32px;
          margin: auto 0;
          position: absolute;
          top: 0;
          width: 400%;
        }
      }
    }

    & select {
      @include text-roboto-body-500;
      appearance: none;
      background-color: var(--color-gray-900);
      background-image: linear-gradient(45deg, transparent 50%, var(--color-white-60) 50%),
        linear-gradient(135deg, var(--color-white-60) 50%, transparent 50%);
      background-position: calc(100% - 17px) 17.5px, calc(100% - 12px) 17.5px;
      background-repeat: no-repeat;
      background-size: 5px 5px, 5px 5px;
      border-radius: 12px;
      border: none;
      color: var(--color-white);
      cursor: pointer;
      height: 40px;
      outline: none;
      padding: 0 32px 0 12px;
      position: relative;
      width: 100%;

      &::placeholder {
        color: var(--color-gray-400);
      }

      &:disabled {
        cursor: not-allowed;
        opacity: 0.5;
      }
    }

    & .model {
      .deprecated {
        > td:first-of-type {
          text-decoration: line-through;
        }
      }

      &-toggle {
        position: relative;
        display: inline-block;
        margin: auto 4px;
        cursor: pointer;
        transition: transform 0.15s ease-in;
        transform: rotate(0);
        transform-origin: 50% 50%;

        &.collapsed {
          transform: rotate(-90deg);
        }

        &:after {
          background: url("/src/assets/triangleDownIcon.svg") center no-repeat;
          background-size: 100%;
          content: "";
          display: block;
          height: 20px;
          width: 20px;
        }
      }

      &-jump-to-path {
        cursor: pointer;
        position: relative;

        .view-line-link {
          cursor: pointer;
          position: absolute;
          top: -6px;
        }
      }

      &-hint {
        position: absolute;
        visibility: hidden;
        white-space: nowrap;
      }
    }

    & table.model {
      tr {
        &.property-row {
          td {
            &:first-child {
              padding-right: 2px;
            }
          }
        }
      }
    }

    & .opblock-summary-control,
    & .models-control,
    & .model-box-control {
      all: inherit;
      border-bottom: 0;
      cursor: pointer;
      outline: none;
      padding: 0;
      vertical-align: middle;

      & * {
        vertical-align: middle;
      }
    }

    & > div {
      &:first-of-type {
        display: none;
      }

      & > .information-container {
        display: none;
      }

      & > .wrapper {
        & > .block {
          & > div {
            & > .opblock-tag-section {
              & > .opblock-tag {
                @include centered-row;
                @include text-roboto-body-500;
                border-radius: 20px;
                color: var(--color-white);
                cursor: pointer;
                gap: 16px;
                margin-bottom: 4px;
                height: 40px;
                padding: 10px 16px;
                width: max-content;

                &:hover {
                  color: var(--color-white-70);

                  & > .expand-operation {
                    & > svg {
                      fill: var(--color-white-70);
                    }
                  }
                }

                & > small {
                  display: none;
                }

                & > .expand-operation {
                  border: none;
                  background-color: unset;
                  fill: var(--color-white);
                  color: var(--color-white);
                  transition: transform 0.3s;

                  & > svg {
                    cursor: pointer;
                    fill: var(--color-white);
                    height: 12px;
                    width: 12px;
                  }
                }
              }

              & > .no-margin {
                & > .operation-tag-content {
                  & > .opblock {
                    background-color: var(--color-gray-950);
                    border-radius: 16px;
                    margin-bottom: 4px;

                    @include desktop {
                      border-radius: 20px;
                    }

                    &:last-of-type {
                      margin-bottom: 36px;
                    }

                    &.is-open {
                      background-color: var(--color-gray-900);
                    }

                    & > .opblock-summary {
                      @include centered-row;
                      @include text-roboto-body-large-400;
                      border-radius: 16px;
                      color: var(--color-white);
                      cursor: pointer;
                      width: 100%;

                      @include desktop {
                        border-radius: 20px;
                      }

                      &:hover {
                        background-color: var(--color-gray-900);
                      }

                      &.opblock-summary-get {
                        & > .opblock-summary-control {
                          & > .opblock-summary-method {
                            background-color: var(--color-information-12);
                            color: var(--color-information-100);
                          }
                        }
                      }
                      &.opblock-summary-post {
                        & > .opblock-summary-control {
                          & > .opblock-summary-method {
                            background-color: var(--color-success-10);
                            color: var(--color-success-100);
                          }
                        }
                      }

                      & > .opblock-summary-control {
                        all: unset;
                        @include centered-row;
                        gap: 0 16px;
                        padding: 0 8px;
                        width: 100%;
                        white-space: nowrap;

                        @include desktop {
                          padding: 10px;
                        }

                        & > .opblock-summary-method {
                          @include text-roboto-body-400;
                          border-radius: 27px;
                          padding: 6px 8px;

                          @include desktop {
                            padding: 8px 12px;
                          }
                        }

                        & > .opblock-summary-path-description-wrapper {
                          @include text-roboto-body-400;

                          & > .opblock-summary-path {
                            & > .nostyle {
                              & > span {
                                display: block;
                                max-width: calc(100vw - 200px);
                                overflow: hidden;
                                text-overflow: ellipsis;
                                white-space: nowrap;

                                & > wbr {
                                  display: none;
                                }
                              }
                            }
                          }
                        }
                      }

                      & > .copy-to-clipboard {
                        @include centered-column;
                        border-radius: 50%;
                        height: 24px;
                        min-width: 24px;
                        position: relative;
                        width: 24px;

                        &:active {
                          background-color: var(--color-white-10);
                        }

                        & > svg {
                          margin: auto;
                          opacity: 0;
                          z-index: 9;
                        }

                        &::before {
                          background-image: url("/src/assets/copyIcon.svg");
                          background-size: cover;
                          border-radius: 50%;
                          content: "";
                          height: inherit;
                          position: absolute;
                          width: inherit;
                        }
                      }

                      & > .opblock-control-arrow {
                        all: unset;
                        @include centered-row;
                        padding: 0 16px;
                        width: 12px;
                        height: 44px;

                        @include desktop {
                          height: 56px;
                        }

                        & > .arrow {
                          fill: var(--color-gray-400);
                        }
                      }
                    }

                    & > .no-margin {
                      border-radius: 12px;
                      margin: 8px 8px 4px 8px;
                      overflow: hidden;
                      padding-bottom: 4px;

                      & > .opblock-body {
                        & > .opblock-description-wrapper {
                          background-color: var(--color-gray-950);
                          padding: 12px 12px 24px 12px;

                          @include desktop {
                            padding: 16px 20px;
                          }

                          & > .opblock-description {
                            & > .markdown {
                              & > p {
                                @include text-roboto-body-400;
                                color: var(--color-gray-400);
                              }
                            }
                          }
                        }

                        & > .opblock-section {
                          background-color: var(--color-gray-950);
                          padding: 0 12px;

                          @include desktop {
                            padding: 0 20px;
                          }

                          & > .opblock-section-header {
                            @include centered-row;
                            justify-content: space-between;
                            margin-bottom: 24px;

                            & > .tab-header {
                              & > .opblock-title {
                                @include text-roboto-subheading-500;
                                color: var(--color-white);
                              }
                            }

                            & > .try-out {
                              & > .try-out__btn {
                                @include button-primary;

                                &.cancel {
                                  @include button-secondary;
                                }
                              }
                            }
                          }

                          & > .parameters-container {
                            @include text-roboto-body-400;

                            & > .table-container {
                              & > .parameters {
                                width: 100%;

                                & > thead {
                                  display: none;

                                  @include desktop {
                                    display: table-row;

                                    & > tr {
                                      @include centered-row;
                                      margin-bottom: 20px;
                                      width: 100%;

                                      & > .parameters-col_name {
                                        @include text-roboto-body-400;
                                        color: var(--color-gray-400);
                                        width: 33%;
                                        text-align: start;
                                      }

                                      & > .parameters-col_description {
                                        @include text-roboto-body-400;
                                        color: var(--color-gray-400);
                                        width: 67%;
                                        text-align: start;
                                      }
                                    }
                                  }
                                }

                                & > tbody {
                                  width: 100%;

                                  & > tr {
                                    @include centered-column;
                                    border-bottom: 1px solid var(--color-gray-900);
                                    gap: 20px 0;
                                    margin-bottom: 20px;
                                    padding-bottom: 20px;

                                    @include desktop {
                                      @include centered-row;
                                      justify-content: flex-start;
                                    }

                                    &:last-of-type {
                                      border: none;
                                    }

                                    & > .parameters-col_name {
                                      @include centered-row;
                                      gap: 0 8px;
                                      margin-left: 100px;
                                      position: relative;

                                      @include desktop {
                                        margin-left: 0;
                                        width: 33%;
                                      }

                                      &::before {
                                        @include text-roboto-body-400;
                                        color: var(--color-gray-400);
                                        content: "Name";
                                        height: inherit;
                                        left: -100px;
                                        position: absolute;
                                        width: inherit;

                                        @include desktop {
                                          display: none;
                                        }
                                      }

                                      & > .parameter__name {
                                        @include text-roboto-body-400;
                                        color: var(--color-white);

                                        &.required {
                                          & > span {
                                            color: var(--color-error-100);
                                          }
                                        }
                                      }

                                      & > .parameter__type {
                                        @include text-heading6;
                                        color: #d2afff;
                                        text-transform: uppercase;
                                      }

                                      & > .parameter__deprecated {
                                        display: none;
                                      }

                                      & > .parameter__in {
                                        @include text-roboto-body-400;
                                        color: var(--color-gray-600);
                                      }
                                    }

                                    & > .parameters-col_description {
                                      @include centered-column;
                                      margin-left: 100px;
                                      position: relative;
                                      gap: 4px 0;

                                      @include desktop {
                                        margin-left: 0;
                                        width: 67%;
                                      }

                                      &::before {
                                        @include text-roboto-body-400;
                                        color: var(--color-gray-400);
                                        content: "Description";
                                        height: inherit;
                                        left: -100px;
                                        position: absolute;
                                        width: inherit;

                                        @include desktop {
                                          display: none;
                                        }
                                      }

                                      & > .markdown {
                                        @include text-roboto-body-400;
                                        color: var(--color-gray-400);
                                        text-wrap: pretty;
                                      }

                                      & > input {
                                        @include text-heading6;
                                        background-color: var(--color-gray-900);
                                        border-radius: 12px;
                                        border: none;
                                        color: var(--color-white);
                                        outline: none;
                                        padding: 12px 16px;
                                        width: 100%;

                                        &::placeholder {
                                          color: var(--color-gray-400);
                                        }

                                        &:disabled {
                                          cursor: not-allowed;
                                          opacity: 0.5;
                                        }

                                        &.invalid {
                                          outline: 1px solid var(--color-error-100);
                                        }
                                      }

                                      & > select {
                                        @include text-roboto-body-400;
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }

                        & > .errors-wrapper {
                          @include text-roboto-body-400;
                          background-color: var(--color-gray-950);
                          padding: 8px 12px 24px 12px;
                          color: var(--color-gray-400);

                          @include desktop {
                            padding: 16px 20px;
                          }

                          & > ul {
                            list-style: none;
                          }
                        }

                        & > .btn-group {
                          @include centered-row;
                          background-color: var(--color-gray-950);
                          border-radius: 0 0 12px 12px;
                          justify-content: space-between;
                          margin-bottom: 4px;
                          padding: 0 12px 12px 12px;

                          @include desktop {
                            padding: 0 20px 20px calc(33% + 8px);
                          }

                          & > .execute {
                            @include button-primary;
                            justify-content: center;
                            width: 48%;
                          }

                          & > .btn-clear {
                            @include button-secondary;
                            justify-content: center;
                            width: 48%;
                          }
                        }

                        & > .execute-wrapper {
                          background-color: var(--color-gray-950);
                          border-radius: 0 0 12px 12px;
                          margin-bottom: 4px;
                          padding: 0 12px 12px 12px;

                          @include desktop {
                            padding: 0 20px 16px 20px;
                          }

                          & > .execute {
                            @include button-primary;
                            justify-content: center;
                            width: 100%;

                            @include desktop {
                              max-width: 67%;
                              margin-left: auto;
                            }
                          }
                        }

                        & > .responses-wrapper {
                          position: relative;

                          & > .opblock-section-header {
                            @include centered-column;
                            left: 12px;
                            padding: 12px 0;
                            position: absolute;
                            right: 12px;
                            z-index: 9;

                            @include desktop {
                              @include centered-row;
                              justify-content: space-between;
                              left: 20px;
                              padding: 16px 0;
                              right: 20px;
                            }

                            & > h4 {
                              @include text-roboto-subheading-500;
                              color: var(--color-white);
                            }

                            & > label {
                              @include centered-column;

                              @include desktop {
                                @include centered-row;
                                gap: 0 16px;
                              }

                              & > span {
                                @include text-roboto-body-400;
                                color: var(--color-gray-400);
                                margin: 12px 0;

                                @include desktop {
                                  margin: 0;
                                }
                              }
                            }
                          }

                          & > .responses-inner {
                            & > div {
                              position: relative;

                              & > div {
                                & > .curl-command {
                                  display: none;
                                }

                                & > div {
                                  & > .request-url {
                                    display: none;
                                  }
                                }

                                & > h4 {
                                  display: none;
                                }
                              }

                              & > h4 {
                                @include text-roboto-subheading-500;
                                position: absolute;
                                bottom: -52px;
                                left: 12px;

                                @include desktop {
                                  left: 20px;
                                }
                              }
                            }

                            & .responses-table {
                              @include centered-column;
                              background-color: var(--color-gray-950);
                              border-radius: 12px;
                              margin-bottom: 4px;
                              padding: 148px 12px 12px 12px;
                              width: 100%;

                              @include desktop {
                                padding: 72px 20px 20px 20px;
                              }

                              &:nth-child(2) {
                                padding: 64px 12px 20px 12px;
                                margin-bottom: 8px;

                                @include desktop {
                                  padding: 64px 20px 22px 20px;
                                }
                              }

                              & > thead {
                                display: none;

                                @include desktop {
                                  display: table-row;

                                  & > tr {
                                    @include centered-row;
                                    margin-bottom: 32px;
                                    width: 100%;

                                    & > .response-col_status {
                                      @include text-roboto-body-400;
                                      color: var(--color-gray-400);
                                      width: 33%;
                                      text-align: start;
                                    }

                                    & > .response-col_description {
                                      @include text-roboto-body-400;
                                      color: var(--color-gray-400);
                                      width: 67%;
                                      text-align: start;
                                    }
                                  }
                                }
                              }

                              & > tbody {
                                & > .response {
                                  @include centered-column;
                                  border-bottom: 1px solid var(--color-gray-900);
                                  margin-bottom: 20px;
                                  padding-bottom: 20px;
                                  width: 100%;

                                  @include desktop {
                                    @include centered-row;
                                    align-items: flex-start;
                                    justify-content: flex-start;
                                  }

                                  &:last-child {
                                    border: none;
                                    margin-bottom: 0;
                                    padding: 0;
                                  }

                                  & > .response-col_status {
                                    @include centered-column;
                                    @include text-roboto-body-400;
                                    margin-bottom: 20px;
                                    margin-left: 100px;
                                    position: relative;

                                    @include desktop {
                                      width: 33%;
                                      margin-bottom: 0;
                                      margin-left: 0;
                                    }

                                    &::before {
                                      color: var(--color-gray-400);
                                      content: "Code";
                                      height: inherit;
                                      left: -100px;
                                      position: absolute;
                                      width: inherit;

                                      @include desktop {
                                        display: none;
                                      }
                                    }
                                  }

                                  & > .response-col_description {
                                    position: relative;

                                    @include desktop {
                                      width: 67%;
                                    }

                                    & > div {
                                      & .highlight-code .microlight {
                                        padding: 12px !important;

                                        @include desktop {
                                          padding: 20px !important;
                                        }
                                      }
                                    }

                                    & .copy-to-clipboard {
                                      position: absolute;
                                      right: 8px;
                                      top: 12px;

                                      & > button {
                                        @include centered-column;
                                        background-color: unset;
                                        border-radius: 50%;
                                        border: none;
                                        cursor: pointer;
                                        height: 24px;
                                        min-width: 24px;
                                        outline: unset;
                                        position: relative;
                                        width: 24px;

                                        &:active {
                                          background-color: var(--color-white-10);
                                        }

                                        & > svg {
                                          margin: auto;
                                          opacity: 0;
                                          z-index: 9;
                                        }

                                        &::before {
                                          background-image: url("/src/assets/copyIcon.svg");
                                          background-size: cover;
                                          border-radius: 50%;
                                          content: "";
                                          height: inherit;
                                          position: absolute;
                                          width: inherit;
                                        }
                                      }
                                    }

                                    & .download-contents {
                                      display: none;
                                    }

                                    & .microlight {
                                      @include text-roboto-body-400;
                                      background-color: var(--color-black) !important;
                                      border-radius: 12px;
                                      max-height: 500px;
                                      width: 100%;
                                      overflow: auto;

                                      @include desktop {
                                        max-height: 800px;
                                      }

                                      & > .headerline {
                                        display: none;
                                      }

                                      & > .language-json {
                                        & > span[style="color: rgb(211, 99, 99);"] {
                                          color: #ff884d !important;
                                        }

                                        & > span[style="color: rgb(162, 252, 162);"] {
                                          color: var(--color-white) !important;
                                        }

                                        & > span[style="color: rgb(252, 194, 140);"] {
                                          color: #ff884d !important;
                                        }
                                      }
                                    }

                                    & h5 {
                                      display: none;
                                    }

                                    & .hljs-attr {
                                      color: var(--color-gray-500);
                                    }

                                    & > .markdown {
                                      display: none;
                                    }

                                    & > .response-col_description__inner {
                                      & > .markdown {
                                        & > p {
                                          @include centered-column;
                                          @include text-roboto-body-400;
                                          margin-left: 100px;
                                          position: relative;

                                          @include desktop {
                                            margin-left: 0;
                                          }

                                          &::before {
                                            color: var(--color-gray-400);
                                            content: "Description";
                                            height: inherit;
                                            left: -100px;
                                            position: absolute;
                                            width: inherit;

                                            @include desktop {
                                              display: none;
                                            }
                                          }
                                        }
                                      }
                                    }

                                    & > .model-example {
                                      & > .tab {
                                        @include centered-row;
                                        background-color: var(--color-gray-900);
                                        border-radius: 27px;
                                        list-style: none;
                                        max-width: max-content;
                                        margin: 28px 0 12px 0;

                                        & > .tabitem {
                                          &.active {
                                            & > .tablinks {
                                              background-color: var(--color-gray-800);
                                            }
                                          }

                                          & > .tablinks {
                                            @include button-secondary;
                                          }
                                        }
                                      }

                                      & > div {
                                        & > .model-box {
                                          background-color: var(--color-gray-900);
                                          border-radius: 12px;
                                          overflow: auto;
                                          padding: 12px;
                                          width: 100%;

                                          @include desktop {
                                            padding: 20px;
                                          }

                                          & > .model {
                                            @include text-roboto-body-400;

                                            & > span {
                                              color: var(--color-gray-400);

                                              & .inner-object {
                                                & td {
                                                  vertical-align: middle;
                                                }

                                                & .model {
                                                  & tbody {
                                                    & .property-row {
                                                      & > td {
                                                        &:first-child {
                                                          @include text-heading6;
                                                          color: var(--color-gray-600);
                                                          text-transform: uppercase;
                                                          vertical-align: top;
                                                          padding-top: 2px;
                                                        }

                                                        & .prop-name {
                                                          margin-right: 12px;
                                                        }

                                                        & .prop-enum {
                                                          display: block;
                                                        }

                                                        & .prop-type {
                                                          color: #d2afff;
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }

          & > .models {
            & > h4 {
              & > button {
                @include centered-row;
                @include text-roboto-body-500;
                border-radius: 20px;
                color: var(--color-white);
                cursor: pointer;
                gap: 16px;
                margin-bottom: 4px;
                height: 40px;
                padding: 10px 16px;
                width: max-content;

                &:hover {
                  color: var(--color-white-70);

                  & > svg {
                    fill: var(--color-white-70);
                  }
                }

                & > svg {
                  fill: var(--color-white);
                  height: 12px;
                  width: 12px;
                }
              }
            }

            & .model-box {
              @include text-roboto-body-400;
              color: var(--color-gray-400);

              & > .model-box {
                background-color: var(--color-gray-900);
                border-radius: 16px;
                margin-bottom: 4px;
                padding: 12px;

                @include desktop {
                  padding: 20px;
                }

                & .property-row {
                  & > td {
                    &:first-child {
                      @include text-heading6;
                      color: var(--color-gray-600);
                      text-transform: uppercase;
                      vertical-align: top;
                      padding-top: 2px;
                    }
                  }

                  & .prop-name {
                    margin-right: 12px;
                  }

                  & .prop-enum {
                    display: block;
                  }

                  & .prop-type {
                    color: #d2afff;
                  }
                }
              }

              &.deprecated {
                opacity: 0.5;
              }

              & > .model-box-control {
                border-radius: 16px;
                margin-bottom: 4px;
                padding: 12px;
                position: relative;
                white-space: nowrap;
                width: 100%;

                @include desktop {
                  padding: 20px;
                }

                &[aria-expanded="false"] {
                  background-color: var(--color-gray-950);
                }

                &:hover {
                  background-color: var(--color-gray-900);
                }
              }
            }
          }
        }
      }
    }
  }
}

@keyframes loading-list {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-50%);
  }
}
