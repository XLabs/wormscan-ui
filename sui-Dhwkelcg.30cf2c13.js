!function(e,t,r,i,n){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o="function"==typeof a[i]&&a[i],u=o.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function l(t,r){if(!u[t]){if(!e[t]){var n="function"==typeof a[i]&&a[i];if(!r&&n)return n(t,!0);if(o)return o(t,!0);if(c&&"string"==typeof t)return c(t);var d=Error("Cannot find module '"+t+"'");throw d.code="MODULE_NOT_FOUND",d}p.resolve=function(r){var i=e[t][1][r];return null!=i?i:r},p.cache={};var h=u[t]=new l.Module(t);e[t][0].call(h.exports,p,h,h.exports,a)}return u[t].exports;function p(e){var t=p.resolve(e);return!1===t?{}:l(t)}}l.isParcelRequire=!0,l.Module=function(e){this.id=e,this.bundle=l,this.exports={}},l.modules=e,l.cache=u,l.parent=o,l.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(l,"root",{get:function(){return a[i]}}),a[i]=l;for(var d=0;d<t.length;d++)l(t[d])}({dxzPC:[function(e,t,r,i){let n,a;var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"S",()=>io),o.export(r,"a",()=>r2),o.export(r,"b",()=>r3),o.export(r,"c",()=>r4),o.export(r,"d",()=>r8),o.export(r,"e",()=>r6),o.export(r,"f",()=>ii),o.export(r,"g",()=>it),o.export(r,"h",()=>ir),o.export(r,"i",()=>r5),o.export(r,"j",()=>ie),o.export(r,"k",()=>r9),o.export(r,"p",()=>is),o.export(r,"s",()=>iK),o.export(r,"u",()=>r7);var u=e("./index-DTF6KsXj.mjs"),c=e("./index-C4GAV8CF.mjs"),l=Object.defineProperty,d=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t,r)=>d(e,"symbol"!=typeof t?t+"":t,r);function p(e){return Uint8Array.from(atob(e),e=>e.charCodeAt(0))}function f(e){if(e.length<8192)return btoa(String.fromCharCode(...e));let t="";for(var r=0;r<e.length;r+=8192)t+=String.fromCharCode(...e.slice(r,r+8192));return btoa(t)}function g(e){var t;let r=e.startsWith("0x")?e.slice(2):e,i=(null==(t=(r.length%2==0?r:`0${r}}`).match(/.{2}/g))?void 0:t.map(e=>parseInt(e,16)))??[];return Uint8Array.from(i)}function m(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}function y(e){let t=[],r=0;if(0===e)return[0];for(;e>0;)t[r]=127&e,(e>>=7)&&(t[r]|=128),r+=1;return t}class w{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32();return BigInt("0x"+(this.read32().toString(16)+e.toString(16).padStart(8,"0"))).toString(10)}read128(){let e=BigInt(this.read64());return BigInt("0x"+(BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0"))).toString(10)}read256(){let e=BigInt(this.read128());return BigInt("0x"+(BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0"))).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,{value:t,length:r}=function(e){let t=0,r=0,i=0;for(;;){let n=e[i];if(i+=1,t|=(127&n)<<r,!(128&n))break;r+=7}return{value:t,length:i}}(new Uint8Array(this.dataView.buffer,e));return this.shift(r),t}readVec(e){let t=this.readULEB(),r=[];for(let i=0;i<t;i++)r.push(e(this,i,t));return r}}function b(e,t=["<",">"]){let[r,i]=t,n=[],a="",o=0;for(let t=0;t<e.length;t++){let u=e[t];if(u===r&&o++,u===i&&o--,0===o&&","===u){n.push(a.trim()),a="";continue}a+=u}return n.push(a.trim()),n}class v{constructor({size:e=1024,maxSize:t,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t||e,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let t=this.bytePosition+e;if(t>this.size){let e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;let r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return S(BigInt(e),8).forEach(e=>this.write8(e)),this}write128(e){return S(BigInt(e),16).forEach(e=>this.write8(e)),this}write256(e){return S(BigInt(e),32).forEach(e=>this.write8(e)),this}writeULEB(e){return y(e).forEach(e=>this.write8(e)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((r,i)=>t(this,r,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return function(e,t){switch(t){case"base58":return(0,u.t)(e);case"base64":return f(e);case"hex":return m(e);default:throw Error("Unsupported encoding, supported values are: base64, hex")}}(this.toBytes(),e)}}function S(e,t){let r=new Uint8Array(t),i=0;for(;e>0;)r[i]=Number(e%BigInt(256)),e/=BigInt(256),i+=1;return r}var T,k,x,E,j=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},I=(e,t,r)=>(j(e,t,"read from private field"),r?r.call(e):t.get(e)),A=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},B=(e,t,r,i)=>(j(e,t,"write to private field"),t.set(e,r),r);let O=class{constructor(e){A(this,T,void 0),A(this,k,void 0),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),B(this,T,e.write),B(this,k,e.serialize??((e,t)=>{let r=new v({size:this.serializedSize(e)??void 0,...t});return I(this,T).call(this,e,r),r.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),I(this,T).call(this,e,t)}serialize(e,t){return this.validate(e),new z(this,I(this,k).call(this,e,t))}parse(e){let t=new w(e);return this.read(t)}transform({name:e,input:t,output:r}){return new O({name:e??this.name,read:e=>r(this.read(e)),write:(e,r)=>I(this,T).call(this,t(e),r),serializedSize:e=>this.serializedSize(t(e)),serialize:(e,r)=>I(this,k).call(this,t(e),r),validate:e=>this.validate(t(e))})}};T=new WeakMap,k=new WeakMap;let C=Symbol.for("@mysten/serialized-bcs");function M(e){return!!e&&"object"==typeof e&&!0===e[C]}class z{constructor(e,t){A(this,x,void 0),A(this,E,void 0),B(this,x,e),B(this,E,t)}get[C](){return!0}toBytes(){return I(this,E)}toHex(){return m(I(this,E))}toBase64(){return f(I(this,E))}toBase58(){return(0,u.t)(I(this,E))}parse(){return I(this,x).parse(I(this,E))}}function $({size:e,...t}){return new O({...t,serializedSize:()=>e})}function P({readMethod:e,writeMethod:t,...r}){return $({...r,read:t=>t[e](),write:(e,r)=>r[t](e),validate:e=>{var t;if(e<0||e>r.maxValue)throw TypeError(`Invalid ${r.name} value: ${e}. Expected value in range 0-${r.maxValue}`);null==(t=r.validate)||t.call(r,e)}})}function U({readMethod:e,writeMethod:t,...r}){return $({...r,read:t=>t[e](),write:(e,r)=>r[t](BigInt(e)),validate:e=>{var t;let i=BigInt(e);if(i<0||i>r.maxValue)throw TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);null==(t=r.validate)||t.call(r,i)}})}x=new WeakMap,E=new WeakMap;let _={u8:e=>P({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:255,...e}),u16:e=>P({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:65535,...e}),u32:e=>P({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:0x100000000-1,...e}),u64:e=>U({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e}),u128:e=>U({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e}),u256:e=>U({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e}),bool:e=>$({name:"bool",size:1,read:e=>1===e.read8(),write:(e,t)=>t.write8(+!!e),...e,validate:t=>{var r;if(null==(r=null==e?void 0:e.validate)||r.call(e,t),"boolean"!=typeof t)throw TypeError(`Expected boolean, found ${typeof t}`)}}),uleb128:e=>(function({serialize:e,...t}){let r=new O({...t,serialize:e,write:(e,t)=>{for(let i of r.serialize(e).toBytes())t.write8(i)}});return r})({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(y(e)),...e}),bytes:(e,t)=>$({name:`bytes[${e}]`,size:e,read:t=>t.readBytes(e),write:(t,r)=>{for(let i=0;i<e;i++)r.write8(t[i]??0)},...t,validate:r=>{var i;if(null==(i=null==t?void 0:t.validate)||i.call(t,r),!("length"in r))throw TypeError(`Expected array, found ${typeof r}`);if(r.length!==e)throw TypeError(`Expected array of length ${e}, found ${r.length}`)}}),string:e=>(function({toBytes:e,fromBytes:t,...r}){return new O({...r,read:e=>{let r=e.readULEB();return t(e.readBytes(r))},write:(t,r)=>{let i=e(t);r.writeULEB(i.length);for(let e=0;e<i.length;e++)r.write8(i[e])},serialize:t=>{let r=e(t),i=y(r.length),n=new Uint8Array(i.length+r.length);return n.set(i,0),n.set(r,i.length),n},validate:e=>{var t;if("string"!=typeof e)throw TypeError(`Invalid ${r.name} value: ${e}. Expected string`);null==(t=r.validate)||t.call(r,e)}})})({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...e}),fixedArray:(e,t,r)=>new O({name:`${t.name}[${e}]`,read:r=>{let i=Array(e);for(let n=0;n<e;n++)i[n]=t.read(r);return i},write:(e,r)=>{for(let i of e)t.write(i,r)},...r,validate:t=>{var i;if(null==(i=null==r?void 0:r.validate)||i.call(r,t),!("length"in t))throw TypeError(`Expected array, found ${typeof t}`);if(t.length!==e)throw TypeError(`Expected array of length ${e}, found ${t.length}`)}}),option:e=>_.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:e=>null==e?{None:!0}:{Some:e},output:e=>"Some"in e?e.Some:null}),vector:(e,t)=>new O({name:`vector<${e.name}>`,read:t=>{let r=t.readULEB(),i=Array(r);for(let n=0;n<r;n++)i[n]=e.read(t);return i},write:(t,r)=>{for(let i of(r.writeULEB(t.length),t))e.write(i,r)},...t,validate:e=>{var r;if(null==(r=null==t?void 0:t.validate)||r.call(t,e),!("length"in e))throw TypeError(`Expected array, found ${typeof e}`)}}),tuple:(e,t)=>new O({name:`(${e.map(e=>e.name).join(", ")})`,serializedSize:t=>{let r=0;for(let i=0;i<e.length;i++){let n=e[i].serializedSize(t[i]);if(null==n)return null;r+=n}return r},read:t=>{let r=[];for(let i of e)r.push(i.read(t));return r},write:(t,r)=>{for(let i=0;i<e.length;i++)e[i].write(t[i],r)},...t,validate:r=>{var i;if(null==(i=null==t?void 0:t.validate)||i.call(t,r),!Array.isArray(r))throw TypeError(`Expected array, found ${typeof r}`);if(r.length!==e.length)throw TypeError(`Expected array of length ${e.length}, found ${r.length}`)}}),struct(e,t,r){let i=Object.entries(t);return new O({name:e,serializedSize:e=>{let t=0;for(let[r,n]of i){let i=n.serializedSize(e[r]);if(null==i)return null;t+=i}return t},read:e=>{let t={};for(let[r,n]of i)t[r]=n.read(e);return t},write:(e,t)=>{for(let[r,n]of i)n.write(e[r],t)},...r,validate:e=>{var t;if(null==(t=null==r?void 0:r.validate)||t.call(r,e),"object"!=typeof e||null==e)throw TypeError(`Expected object, found ${typeof e}`)}})},enum(e,t,r){let i=Object.entries(t);return new O({name:e,read:e=>{let[t,r]=i[e.readULEB()];return{[t]:(null==r?void 0:r.read(e))??!0}},write:(e,t)=>{let[r,n]=Object.entries(e)[0];for(let e=0;e<i.length;e++){let[a,o]=i[e];if(a===r){t.writeULEB(e),null==o||o.write(n,t);return}}},...r,validate:e=>{var i;if(null==(i=null==r?void 0:r.validate)||i.call(r,e),"object"!=typeof e||null==e)throw TypeError(`Expected object, found ${typeof e}`);let n=Object.keys(e);if(1!==n.length)throw TypeError(`Expected object with one key, found ${n.length}`);let[a]=n;if(!Object.hasOwn(t,a))throw TypeError(`Invalid enum variant ${a}`)}})},map:(e,t)=>_.vector(_.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:e=>[...e.entries()],output:e=>{let t=new Map;for(let[r,i]of e)t.set(r,i);return t}}),generic:(e,t)=>(...e)=>t(...e).transform({name:`${t.name}<${e.map(e=>e.name).join(", ")}>`,input:e=>e,output:e=>e}),lazy:e=>(function(e){let t=null;function r(){return t||(t=e()),t}return new O({name:"lazy",read:e=>r().read(e),serializedSize:e=>r().serializedSize(e),write:(e,t)=>r().write(e,t),serialize:(e,t)=>r().serialize(e,t).toBytes()})})(e)},N=class{constructor(e){var t;if(this.types=new Map,this.counter=0,e instanceof N){this.schema=e.schema,this.types=new Map(e.types);return}if(this.schema=e,this.registerAddressType(N.ADDRESS,e.addressLength,e.addressEncoding),this.registerVectorType(e.vectorType),e.types&&e.types.structs)for(let t of Object.keys(e.types.structs))this.registerStructType(t,e.types.structs[t]);if(e.types&&e.types.enums)for(let t of Object.keys(e.types.enums))this.registerEnumType(t,e.types.enums[t]);if(e.types&&e.types.aliases)for(let t of Object.keys(e.types.aliases))this.registerAlias(t,e.types.aliases[t]);!1!==e.withPrimitives&&(t=this,t.registerType(N.U8,function(e,t){return e.write8(t)},function(e){return e.read8()},e=>e<256),t.registerType(N.U16,function(e,t){return e.write16(t)},function(e){return e.read16()},e=>e<65536),t.registerType(N.U32,function(e,t){return e.write32(t)},function(e){return e.read32()},e=>e<=4294967296n),t.registerType(N.U64,function(e,t){return e.write64(t)},function(e){return e.read64()}),t.registerType(N.U128,function(e,t){return e.write128(t)},function(e){return e.read128()}),t.registerType(N.U256,function(e,t){return e.write256(t)},function(e){return e.read256()}),t.registerType(N.BOOL,function(e,t){return e.write8(t)},function(e){return"1"===e.read8().toString(10)}),t.registerType(N.STRING,function(e,t){return e.writeVec(Array.from(t),(e,t)=>e.write8(t.charCodeAt(0)))},function(e){return e.readVec(e=>e.read8()).map(e=>String.fromCharCode(Number(e))).join("")},e=>!0),t.registerType(N.HEX,function(e,t){return e.writeVec(Array.from(g(t)),(e,t)=>e.write8(t))},function(e){return m(new Uint8Array(e.readVec(e=>e.read8())))}),t.registerType(N.BASE58,function(e,t){return e.writeVec(Array.from((0,u.s)(t)),(e,t)=>e.write8(t))},function(e){let t=e.readVec(e=>e.read8());return(0,u.t)(new Uint8Array(t))}),t.registerType(N.BASE64,function(e,t){return e.writeVec(Array.from(p(t)),(e,t)=>e.write8(t))},function(e){return f(new Uint8Array(e.readVec(e=>e.read8())))}))}tempKey(){return`bcs-struct-${++this.counter}`}ser(e,t,r){if("string"==typeof e||Array.isArray(e)){let{name:i,params:n}=this.parseTypeName(e);return this.getTypeInterface(i).encode(this,t,r,n)}if("object"==typeof e){let i=this.tempKey();return new N(this).registerStructType(i,e).ser(i,t,r)}throw Error(`Incorrect type passed into the '.ser()' function. 
${JSON.stringify(e)}`)}de(e,t,r){if("string"==typeof t){if(r)t=function(e,t){switch(t){case"base58":return(0,u.s)(e);case"base64":return p(e);case"hex":return g(e);default:throw Error("Unsupported encoding, supported values are: base64, hex")}}(t,r);else throw Error("To pass a string to `bcs.de`, specify encoding")}if("string"==typeof e||Array.isArray(e)){let{name:r,params:i}=this.parseTypeName(e);return this.getTypeInterface(r).decode(this,t,i)}if("object"==typeof e){let i=new N(this),n=this.tempKey();return i.registerStructType(n,e).de(n,t,r)}throw Error(`Incorrect type passed into the '.de()' function. 
${JSON.stringify(e)}`)}hasType(e){return this.types.has(e)}registerAlias(e,t){return this.types.set(e,t),this}registerType(e,t,r,i=()=>!0){let{name:n,params:a}=this.parseTypeName(e);return this.types.set(n,{encode(e,t,r,i){let n=a.reduce((e,t,r)=>Object.assign(e,{[t]:i[r]}),{});return this._encodeRaw.call(e,new v(r),t,i,n)},decode(e,t,r){let i=a.reduce((e,t,i)=>Object.assign(e,{[t]:r[i]}),{});return this._decodeRaw.call(e,new w(t),r,i)},_encodeRaw(e,r,a,o){if(i(r))return t.call(this,e,r,a,o);throw Error(`Validation failed for type ${n}, data: ${r}`)},_decodeRaw(e,t,i){return r.call(this,e,t,i)}}),this}registerBcsType(e,t){return this.registerType(e,(e,r,i)=>(t(...i.map(e=>new O({name:String(e),write:(t,r)=>{let{name:n,params:a}=this.parseTypeName(e),o=this.getTypeInterface(n),u=a.reduce((e,t,r)=>Object.assign(e,{[t]:i[r]}),{});return o._encodeRaw.call(this,r,t,a,u)},read:()=>{throw Error("Not implemented")}}))).write(r,e),e),(e,r)=>t(...r.map(e=>new O({name:String(e),write:(e,t)=>{throw Error("Not implemented")},read:t=>{let{name:i,params:n}=this.parseTypeName(e),a=this.getTypeInterface(i),o=n.reduce((e,t,i)=>Object.assign(e,{[t]:r[i]}),{});return a._decodeRaw.call(this,t,n,o)}}))).read(e)),this}registerAddressType(e,t,r="hex"){switch(r){case"base64":return this.registerType(e,function(e,t){return p(t).reduce((e,t)=>e.write8(t),e)},function(e){return f(e.readBytes(t))});case"hex":return this.registerType(e,function(e,t){return g(t).reduce((e,t)=>e.write8(t),e)},function(e){return m(e.readBytes(t))});default:throw Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(e){let{name:t,params:r}=this.parseTypeName(e);if(r.length>1)throw Error("Vector can have only one type parameter; got "+t);return this.registerType(e,function(t,r,i,n){return t.writeVec(r,(t,r)=>{let a=i[0];if(!a)throw Error(`Incorrect number of type parameters passed a to vector '${e}'`);let{name:o,params:u}=this.parseTypeName(a);if(this.hasType(o))return this.getTypeInterface(o)._encodeRaw.call(this,t,r,u,n);if(!(o in n))throw Error(`Unable to find a matching type definition for ${o} in vector; make sure you passed a generic`);let{name:c,params:l}=this.parseTypeName(n[o]);return this.getTypeInterface(c)._encodeRaw.call(this,t,r,l,n)})},function(t,r,i){return t.readVec(t=>{let n=r[0];if(!n)throw Error(`Incorrect number of type parameters passed to a vector '${e}'`);let{name:a,params:o}=this.parseTypeName(n);if(this.hasType(a))return this.getTypeInterface(a)._decodeRaw.call(this,t,o,i);if(!(a in i))throw Error(`Unable to find a matching type definition for ${a} in vector; make sure you passed a generic`);let{name:u,params:c}=this.parseTypeName(i[a]);return this.getTypeInterface(u)._decodeRaw.call(this,t,c,i)})})}registerStructType(e,t){for(let e in t){let r=this.tempKey(),i=t[e];Array.isArray(i)||"string"==typeof i||(t[e]=r,this.registerStructType(r,i))}let r=Object.freeze(t),i=Object.keys(r),{name:n,params:a}=this.parseTypeName(e);return this.registerType(e,function(e,t,o,u){if(!t||t.constructor!==Object)throw Error(`Expected ${n} to be an Object, got: ${t}`);if(o.length!==a.length)throw Error(`Incorrect number of generic parameters passed; expected: ${a.length}, got: ${o.length}`);for(let c of i){if(!(c in t))throw Error(`Struct ${n} requires field ${c}:${r[c]}`);let{name:i,params:l}=this.parseTypeName(r[c]);if(a.includes(i)){let r=a.indexOf(i),{name:l,params:d}=this.parseTypeName(o[r]);if(this.hasType(l)){this.getTypeInterface(l)._encodeRaw.call(this,e,t[c],d,u);continue}if(!(l in u))throw Error(`Unable to find a matching type definition for ${l} in ${n}; make sure you passed a generic`);let{name:h,params:p}=this.parseTypeName(u[l]);this.getTypeInterface(h)._encodeRaw.call(this,e,t[c],p,u)}else this.getTypeInterface(i)._encodeRaw.call(this,e,t[c],l,u)}return e},function(e,t,o){if(t.length!==a.length)throw Error(`Incorrect number of generic parameters passed; expected: ${a.length}, got: ${t.length}`);let u={};for(let c of i){let{name:i,params:l}=this.parseTypeName(r[c]);if(a.includes(i)){let r=a.indexOf(i),{name:l,params:d}=this.parseTypeName(t[r]);if(this.hasType(l)){u[c]=this.getTypeInterface(l)._decodeRaw.call(this,e,d,o);continue}if(!(l in o))throw Error(`Unable to find a matching type definition for ${l} in ${n}; make sure you passed a generic`);let{name:h,params:p}=this.parseTypeName(o[l]);u[c]=this.getTypeInterface(h)._decodeRaw.call(this,e,p,o)}else u[c]=this.getTypeInterface(i)._decodeRaw.call(this,e,l,o)}return u})}registerEnumType(e,t){for(let e in t){let r=this.tempKey(),i=t[e];null===i||Array.isArray(i)||"string"==typeof i||(t[e]=r,this.registerStructType(r,i))}let r=Object.freeze(t),i=Object.keys(r),{name:n,params:a}=this.parseTypeName(e);return this.registerType(e,function(e,t,o,u){if(!t)throw Error(`Unable to write enum "${n}", missing data.
Received: "${t}"`);if("object"!=typeof t)throw Error(`Incorrect data passed into enum "${n}", expected object with properties: "${i.join(" | ")}".
Received: "${JSON.stringify(t)}"`);let c=Object.keys(t)[0];if(void 0===c)throw Error(`Empty object passed as invariant of the enum "${n}"`);let l=i.indexOf(c);if(-1===l)throw Error(`Unknown invariant of the enum "${n}", allowed values: "${i.join(" | ")}"; received "${c}"`);let d=r[i[l]];if(e.write8(l),null===d)return e;let h=a.indexOf(d),p=-1===h?d:o[h];{let{name:r,params:i}=this.parseTypeName(p);return this.getTypeInterface(r)._encodeRaw.call(this,e,t[c],i,u)}},function(e,t,o){let u=e.readULEB(),c=i[u],l=r[c];if(-1===u)throw Error(`Decoding type mismatch, expected enum "${n}" invariant index, received "${u}"`);if(null===l)return{[c]:!0};let d=a.indexOf(l),h=-1===d?l:t[d];{let{name:t,params:r}=this.parseTypeName(h);return{[c]:this.getTypeInterface(t)._decodeRaw.call(this,e,r,o)}}})}getTypeInterface(e){let t=this.types.get(e);if("string"==typeof t){let e=[];for(;"string"==typeof t;){if(e.includes(t))throw Error(`Recursive definition found: ${e.join(" -> ")} -> ${t}`);e.push(t),t=this.types.get(t)}}if(void 0===t)throw Error(`Type ${e} is not registered`);return t}parseTypeName(e){if(Array.isArray(e)){let[t,...r]=e;return{name:t,params:r}}if("string"!=typeof e)throw Error(`Illegal type passed as a name of the type: ${e}`);let[t,r]=this.schema.genericSeparators||["<",">"],i=e.indexOf(t),n=Array.from(e).reverse().indexOf(r);if(-1===i&&-1===n)return{name:e,params:[]};if(-1===i||-1===n)throw Error(`Unclosed generic in name '${e}'`);return{name:e.slice(0,i),params:b(e.slice(i+1,e.length-n-1),this.schema.genericSeparators)}}};N.U8="u8",N.U16="u16",N.U32="u32",N.U64="u64",N.U128="u128",N.U256="u256",N.BOOL="bool",N.VECTOR="vector",N.ADDRESS="address",N.STRING="string",N.HEX="hex-string",N.BASE58="base58-string",N.BASE64="base64-string";class R extends TypeError{constructor(e,t){let r;let{message:i,explanation:n,...a}=e,{path:o}=e,u=0===o.length?i:`At path: ${o.join(".")} -- ${i}`;super(n??u),null!=n&&(this.cause=u),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function D(e){return"object"==typeof e&&null!=e}function V(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*q(e,t,r,i){var n;for(let a of(D(n=e)&&"function"==typeof n[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,i){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:n,branch:a}=t,{type:o}=r,{refinement:u,message:c=`Expected a value of type \`${o}\`${u?` with refinement \`${u}\``:""}, but received: \`${V(i)}\``}=e;return{value:i,type:o,refinement:u,key:n[n.length-1],path:n,branch:a,...e,message:c}}(a,t,r,i);e&&(yield e)}}function*K(e,t,r={}){let{path:i=[],branch:n=[e],coerce:a=!1,mask:o=!1}=r,u={path:i,branch:n};if(a&&(e=t.coercer(e,u),o&&"type"!==t.type&&D(t.schema)&&D(e)&&!Array.isArray(e)))for(let r in e)void 0===t.schema[r]&&delete e[r];let c="valid";for(let i of t.validator(e,u))i.explanation=r.message,c="not_valid",yield[i,void 0];for(let[l,d,h]of t.entries(e,u))for(let t of K(d,h,{path:void 0===l?i:[...i,l],branch:void 0===l?n:[...n,d],coerce:a,mask:o,message:r.message}))t[0]?(c=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):a&&(d=t[1],void 0===l?e=d:e instanceof Map?e.set(l,d):e instanceof Set?e.add(d):D(e)&&(void 0!==d||l in e)&&(e[l]=d));if("not_valid"!==c)for(let i of t.refiner(e,u))i.explanation=r.message,c="not_refined",yield[i,void 0];"valid"===c&&(yield[void 0,e])}class L{constructor(e){let{type:t,schema:r,validator:i,refiner:n,coercer:a=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=r,this.entries=o,this.coercer=a,i?this.validator=(e,t)=>q(i(e,t),t,this,e):this.validator=()=>[],n?this.refiner=(e,t)=>q(n(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){return W(e,this,t)}create(e,t){return F(e,this,t)}is(e){return J(e,this)}mask(e,t){return G(e,this,t)}validate(e,t={}){return Z(e,this,t)}}function W(e,t,r){let i=Z(e,t,{message:r});if(i[0])throw i[0]}function F(e,t,r){let i=Z(e,t,{coerce:!0,message:r});if(i[0])throw i[0];return i[1]}function G(e,t,r){let i=Z(e,t,{coerce:!0,mask:!0,message:r});if(i[0])throw i[0];return i[1]}function J(e,t){return!Z(e,t)[0]}function Z(e,t,r={}){let i=K(e,t,r),n=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(i);return n[0]?[new R(n[0],function*(){for(let e of i)e[0]&&(yield e[0])}),void 0]:[void 0,n[1]]}function X(...e){let t="type"===e[0].type,r=Object.assign({},...e.map(e=>e.schema));return t?function(e){let t=Object.keys(e);return new L({type:"type",schema:e,*entries(r){if(D(r))for(let i of t)yield[i,r[i],e[i]]},validator:e=>D(e)||`Expected an object, but received: ${V(e)}`,coercer:e=>D(e)?{...e}:e})}(r):ea(r)}function H(e,t){return new L({type:e,schema:null,validator:t})}function Q(){return H("any",()=>!0)}function Y(e){return new L({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,i]of t.entries())yield[r,i,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${V(e)}`})}function ee(){return H("boolean",e=>"boolean"==typeof e)}function et(){return H("integer",e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${V(e)}`)}function er(e){let t=V(e),r=typeof e;return new L({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${V(r)}`})}function ei(){return H("never",()=>!1)}function en(e){return new L({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function es(){return H("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${V(e)}`)}function ea(e){let t=e?Object.keys(e):[],r=ei();return new L({type:"object",schema:e||null,*entries(i){if(e&&D(i)){let n=new Set(Object.keys(i));for(let r of t)n.delete(r),yield[r,i[r],e[r]];for(let e of n)yield[e,i[e],r]}},validator:e=>D(e)||`Expected an object, but received: ${V(e)}`,coercer:e=>D(e)?{...e}:e})}function eo(e){return new L({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function eu(e,t){return new L({type:"record",schema:null,*entries(r){if(D(r))for(let i in r){let n=r[i];yield[i,i,e],yield[i,n,t]}},validator:e=>D(e)||`Expected an object, but received: ${V(e)}`})}function ec(){return H("string",e=>"string"==typeof e||`Expected a string, but received: ${V(e)}`)}function el(e){let t=ei();return new L({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let i=Math.max(e.length,r.length);for(let n=0;n<i;n++)yield[n,r[n],e[n]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${V(e)}`})}function ed(e){let t=e.map(e=>e.type).join(" | ");return new L({type:"union",schema:null,coercer(t){for(let r of e){let[e,i]=r.validate(t,{coerce:!0});if(!e)return i}return t},validator(r,i){let n=[];for(let t of e){let[...e]=K(r,t,i),[a]=e;if(!a[0])return[];for(let[t]of e)t&&n.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${V(r)}`,...n]}})}function eh(){return H("unknown",()=>!0)}let ep={"-32700":"ParseError","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError"};class ef extends Error{}class eg extends ef{constructor(e,t){super(e),this.code=t,this.type=ep[t]??"ServerError"}}class em extends ef{constructor(e,t,r){super(e),this.status=t,this.statusText=r}}var ey,ew,eb,ev,eS,eT,ek,ex,eE,ej,eI=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},eA=(e,t,r)=>(eI(e,t,"read from private field"),r?r.call(e):t.get(e)),eB=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},eO=(e,t,r,i)=>(eI(e,t,"write to private field"),t.set(e,r),r),eC=(e,t,r,i)=>({set _(s){eO(e,t,s)},get _(){return eA(e,t,i)}}),eM=(e,t,r)=>(eI(e,t,"access private method"),r);let ez={WebSocketConstructor:"u">typeof WebSocket?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class e${constructor(e,t={}){if(eB(this,ek),eB(this,eE),eB(this,ey,0),eB(this,ew,0),eB(this,eb,null),eB(this,ev,null),eB(this,eS,new Set),eB(this,eT,new Map),this.endpoint=e,this.options={...ez,...t},!this.options.WebSocketConstructor)throw Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=function(e){let t=new URL(e);return t.protocol=t.protocol.replace("http","ws"),t.toString()}(this.endpoint))}async makeRequest(e,t){let r=await eM(this,ek,ex).call(this);return new Promise((i,n)=>{eO(this,ey,eA(this,ey)+1),eA(this,eT).set(eA(this,ey),{resolve:i,reject:n,timeout:setTimeout(()=>{eA(this,eT).delete(eA(this,ey)),n(Error(`Request timeout: ${e}`))},this.options.callTimeout)}),r.send(JSON.stringify({jsonrpc:"2.0",id:eA(this,ey),method:e,params:t}))}).then(({error:e,result:t})=>{if(e)throw new eg(e.message,e.code);return t})}async subscribe(e){let t=new eP(e);return eA(this,eS).add(t),await t.subscribe(this),()=>t.unsubscribe(this)}}ey=new WeakMap,ew=new WeakMap,eb=new WeakMap,ev=new WeakMap,eS=new WeakMap,eT=new WeakMap,ek=new WeakSet,ex=function(){return eA(this,ev)||eO(this,ev,new Promise(e=>{var t;null==(t=eA(this,eb))||t.close(),eO(this,eb,new this.options.WebSocketConstructor(this.endpoint)),eA(this,eb).addEventListener("open",()=>{eO(this,ew,0),e(eA(this,eb))}),eA(this,eb).addEventListener("close",()=>{eC(this,ew)._++,eA(this,ew)<=this.options.maxReconnects&&setTimeout(()=>{eM(this,eE,ej).call(this)},this.options.reconnectTimeout)}),eA(this,eb).addEventListener("message",({data:e})=>{let t;try{t=JSON.parse(e)}catch(t){console.error(Error(`Failed to parse RPC message: ${e}`,{cause:t}));return}if("id"in t&&null!=t.id&&eA(this,eT).has(t.id)){let{resolve:e,timeout:r}=eA(this,eT).get(t.id);clearTimeout(r),e(t)}else if("params"in t){let{params:e}=t;eA(this,eS).forEach(t=>{t.subscriptionId===e.subscription&&e.subscription===t.subscriptionId&&t.onMessage(e.result)})}})})),eA(this,ev)},eE=new WeakSet,ej=async function(){var e;return null==(e=eA(this,eb))||e.close(),eO(this,ev,null),Promise.allSettled([...eA(this,eS)].map(e=>e.subscribe(this)))};class eP{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){let{subscriptionId:t}=this;return this.subscribed=!1,null!=t&&(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[t]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;let t=await e.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=t)}}var eU,e_,eN,eR,eD,eV=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},eq=(e,t,r)=>(eV(e,t,"read from private field"),r?r.call(e):t.get(e)),eK=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},eL=(e,t,r,i)=>(eV(e,t,"write to private field"),t.set(e,r),r),eW=(e,t,r)=>(eV(e,t,"access private method"),r);class eF{constructor(e){eK(this,eR),eK(this,eU,0),eK(this,e_,void 0),eK(this,eN,void 0),eL(this,e_,e)}fetch(e,t){let r=eq(this,e_).fetch??globalThis.fetch;if(!this.fetch)throw Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return r(e,t)}async request(e){var t,r;eL(this,eU,eq(this,eU)+1);let i=await this.fetch((null==(t=eq(this,e_).rpc)?void 0:t.url)??eq(this,e_).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":"0.50.1","Client-Target-Api-Version":"1.19.0",...null==(r=eq(this,e_).rpc)?void 0:r.headers},body:JSON.stringify({jsonrpc:"2.0",id:eq(this,eU),method:e.method,params:e.params})});if(!i.ok)throw new em(`Unexpected status code: ${i.status}`,i.status,i.statusText);let n=await i.json();if("error"in n&&null!=n.error)throw new eg(n.error.message,n.error.code);return n.result}async subscribe(e){let t=await eW(this,eR,eD).call(this).subscribe(e);return async()=>!!await t()}}eU=new WeakMap,e_=new WeakMap,eN=new WeakMap,eR=new WeakSet,eD=function(){var e;if(!eq(this,eN)){let t=eq(this,e_).WebSocketConstructor??globalThis.WebSocket;if(!t)throw Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");eL(this,eN,new e$((null==(e=eq(this,e_).websocket)?void 0:e.url)??eq(this,e_).url,{WebSocketConstructor:t,...eq(this,e_).websocket}))}return eq(this,eN)};let eG=/^vector<(.+)>$/,eJ=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class eZ{static parseFromStr(e,t=!1){if("address"===e)return{address:null};if("bool"===e)return{bool:null};if("u8"===e)return{u8:null};if("u16"===e)return{u16:null};if("u32"===e)return{u32:null};if("u64"===e)return{u64:null};if("u128"===e)return{u128:null};if("u256"===e)return{u256:null};if("signer"===e)return{signer:null};let r=e.match(eG);if(r)return{vector:eZ.parseFromStr(r[1],t)};let i=e.match(eJ);if(i)return{struct:{address:t?(0,u.u)(i[1]):i[1],module:i[2],name:i[3],typeParams:void 0===i[5]?[]:eZ.parseStructTypeArgs(i[5],t)}};throw Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return b(e).map(e=>eZ.parseFromStr(e,t))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${eZ.tagToString(e.vector)}>`;if("struct"in e){let t=e.struct,r=t.typeParams.map(eZ.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw Error("Invalid TypeTag")}}let eX=new N({genericSeparators:["<",">"],vectorType:"vector",addressLength:32,addressEncoding:"hex",types:{enums:{"Option<T>":{None:null,Some:"T"}}}});function eH(e){return _.u64({name:"unsafe_u64",...e}).transform({input:e=>e,output:e=>Number(e)})}function eQ(e){return e.transform({input:e=>({[e.kind]:e}),output:e=>{let t=Object.keys(e)[0];return{kind:t,...e[t]}}})}let eY=_.bytes(u.v).transform({input:e=>"string"==typeof e?g((0,u.u)(e)):e,output:e=>(0,u.u)(m(e))}),e0=_.vector(_.u8()).transform({name:"ObjectDigest",input:e=>(0,u.s)(e),output:e=>(0,u.t)(new Uint8Array(e))}),e1=_.struct("SuiObjectRef",{objectId:eY,version:_.u64(),digest:e0}),e2=_.struct("SharedObjectRef",{objectId:eY,initialSharedVersion:_.u64(),mutable:_.bool()}),e6=_.enum("ObjectArg",{ImmOrOwned:e1,Shared:e2,Receiving:e1}),e8=_.enum("CallArg",{Pure:_.vector(_.u8()),Object:e6,ObjVec:_.vector(e6)}),e4=_.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:_.lazy(()=>e4),struct:_.lazy(()=>tr),u16:null,u32:null,u256:null}),e3=eQ(_.enum("Argument",{GasCoin:null,Input:_.struct("Input",{index:_.u16()}),Result:_.struct("Result",{index:_.u16()}),NestedResult:_.struct("NestedResult",{index:_.u16(),resultIndex:_.u16()})})),e5=_.struct("ProgrammableMoveCall",{package:eY,module:_.string(),function:_.string(),type_arguments:_.vector(e4),arguments:_.vector(e3)}).transform({input:e=>{let[t,r,i]=e.target.split("::"),n=e.typeArguments.map(e=>eZ.parseFromStr(e,!0));return{package:(0,u.u)(t),module:r,function:i,type_arguments:n,arguments:e.arguments}},output:e=>({target:[e.package,e.module,e.function].join("::"),arguments:e.arguments,typeArguments:e.type_arguments.map(eZ.tagToString)})}),e9=eQ(_.enum("Transaction",{MoveCall:e5,TransferObjects:_.struct("TransferObjects",{objects:_.vector(e3),address:e3}),SplitCoins:_.struct("SplitCoins",{coin:e3,amounts:_.vector(e3)}),MergeCoins:_.struct("MergeCoins",{destination:e3,sources:_.vector(e3)}),Publish:_.struct("Publish",{modules:_.vector(_.vector(_.u8())),dependencies:_.vector(eY)}),MakeMoveVec:_.struct("MakeMoveVec",{type:_.enum("Option",{None:null,Some:e4}),objects:_.vector(e3)}),Upgrade:_.struct("Upgrade",{modules:_.vector(_.vector(_.u8())),dependencies:_.vector(eY),packageId:eY,ticket:e3})})),e7=_.struct("ProgrammableTransaction",{inputs:_.vector(e8),transactions:_.vector(e9)}),te=_.enum("TransactionKind",{ProgrammableTransaction:e7,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),tt=_.enum("TransactionExpiration",{None:null,Epoch:eH()}),tr=_.struct("StructTag",{address:eY,module:_.string(),name:_.string(),typeParams:_.vector(e4)}),ti=_.struct("GasData",{payment:_.vector(e1),owner:eY,price:_.u64(),budget:_.u64()}),tn=_.struct("TransactionDataV1",{kind:te,sender:eY,gasData:ti,expiration:tt}),ts=_.enum("TransactionData",{V1:tn}),ta=_.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),to=_.enum("IntentVersion",{V0:null}),tu=_.enum("AppId",{Sui:null}),tc=_.struct("Intent",{scope:ta,version:to,appId:tu}),tl=_.generic(["T"],e=>_.struct("IntentMessage<T>",{intent:tc,value:e})),td=_.enum("CompressedSignature",{ED25519:_.fixedArray(64,_.u8()),Secp256k1:_.fixedArray(64,_.u8()),Secp256r1:_.fixedArray(64,_.u8()),ZkLogin:_.vector(_.u8())}),th=_.enum("PublicKey",{ED25519:_.fixedArray(32,_.u8()),Secp256k1:_.fixedArray(33,_.u8()),Secp256r1:_.fixedArray(33,_.u8()),ZkLogin:_.vector(_.u8())}),tp=_.struct("MultiSigPkMap",{pubKey:th,weight:_.u8()}),tf=_.struct("MultiSigPublicKey",{pk_map:_.vector(tp),threshold:_.u16()}),tg=_.struct("MultiSig",{sigs:_.vector(td),bitmap:_.u16(),multisig_pk:tf}),tm=_.vector(_.u8()).transform({input:e=>"string"==typeof e?p(e):e,output:e=>f(new Uint8Array(e))}),ty=_.struct("SenderSignedTransaction",{intentMessage:tl(ts),txSignatures:_.vector(tm)}),tw=_.vector(ty,{name:"SenderSignedData"}),tb={..._,U8:_.u8(),U16:_.u16(),U32:_.u32(),U64:_.u64(),U128:_.u128(),U256:_.u256(),ULEB128:_.uleb128(),Bool:_.bool(),String:_.string(),Address:eY,Argument:e3,CallArg:e8,CompressedSignature:td,GasData:ti,MultiSig:tg,MultiSigPkMap:tp,MultiSigPublicKey:tf,ObjectArg:e6,ObjectDigest:e0,ProgrammableMoveCall:e5,ProgrammableTransaction:e7,PublicKey:th,SenderSignedData:tw,SenderSignedTransaction:ty,SharedObjectRef:e2,StructTag:tr,SuiObjectRef:e1,Transaction:e9,TransactionData:ts,TransactionDataV1:tn,TransactionExpiration:tt,TransactionKind:te,TypeTag:e4,ser:eX.ser.bind(eX),de:eX.de.bind(eX),getTypeInterface:eX.getTypeInterface.bind(eX),hasType:eX.hasType.bind(eX),parseTypeName:eX.parseTypeName.bind(eX),registerAddressType:eX.registerAddressType.bind(eX),registerAlias:eX.registerAlias.bind(eX),registerBcsType:eX.registerBcsType.bind(eX),registerEnumType:eX.registerEnumType.bind(eX),registerStructType:eX.registerStructType.bind(eX),registerType:eX.registerType.bind(eX),types:eX.types};eX.registerBcsType("utf8string",()=>_.string({name:"utf8string"})),eX.registerBcsType("unsafe_u64",()=>eH()),eX.registerBcsType("enumKind",e=>eQ(e)),[eY,e3,e8,td,ti,tg,tp,tf,e6,e0,e5,e7,th,tw,e2,tr,e1,e9,ts,tn,tt,te,e4].forEach(e=>{eX.registerBcsType(e.name,()=>e)});let tv=ed([ea({AddressOwner:ec()}),ea({ObjectOwner:ec()}),ea({Shared:ea({initial_shared_version:en(ec())})}),er("Immutable")]);H("SuiJsonValue",()=>!0);let tS=ed([ea({u32:ec()}),ea({u64:ec()}),ea({f64:ec()})]);ea({attributes:eu(ec(),en(tS)),featureFlags:eu(ec(),ee()),maxSupportedProtocolVersion:ec(),minSupportedProtocolVersion:ec(),protocolVersion:ec()}),ed([ec(),er("package")]);let tT=ea({digest:ec(),objectId:ec(),version:ed([es(),ec(),H("bigint",e=>"bigint"==typeof e)])});ea({owner:tv,reference:tT}),ea({objectId:ec(),sequenceNumber:ec()}),ea({payment:Y(tT),owner:ec(),price:ec(),budget:ec()});let tk=X(tT,ea({type:ec(),owner:tv,previousTransaction:ec()})),tx=eu(ec(),Q()),tE=eu(ec(),eh()),tj=ea({type:ec(),fields:tx,hasPublicTransfer:ee()}),tI=ea({disassembled:tE}),tA=ed([X(tj,ea({dataType:er("moveObject")})),X(tI,ea({dataType:er("package")}))]),tB=ea({type:ec(),hasPublicTransfer:ee(),version:ec(),bcsBytes:ec()}),tO=ea({id:ec(),moduleMap:eu(ec(),ec())}),tC=ed([X(tB,ea({dataType:er("moveObject")})),X(tO,ea({dataType:er("package")}))]);BigInt(1e9);let tM=ea({code:ec(),error:eo(ec()),object_id:eo(ec()),parent_object_id:eo(ec()),version:eo(ec()),digest:eo(ec())}),tz=ed([ea({data:en(eo(eu(ec(),ec()))),error:en(eo(tM))}),eo(eu(ec(),ec()))]),t$=ea({objectId:ec(),version:ec(),digest:ec(),type:en(eo(ec())),content:en(eo(tA)),bcs:en(eo(tC)),owner:en(eo(tv)),previousTransaction:en(eo(ec())),storageRebate:en(eo(ec())),display:en(eo(tz))});ea({showType:en(eo(ee())),showContent:en(eo(ee())),showBcs:en(eo(ee())),showOwner:en(eo(ee())),showPreviousTransaction:en(eo(ee())),showStorageRebate:en(eo(ee())),showDisplay:en(eo(ee()))}),ed([er("Exists"),er("notExists"),er("Deleted")]),Y(tk);let tP=ea({data:en(eo(t$)),error:en(eo(tM))});function tU(e){if("reference"in e)return e.reference;let t=e.data;return t?{objectId:t.objectId,version:t.version,digest:t.digest}:function(e){if(e.error&&"object_id"in e.error&&"version"in e.error&&"digest"in e.error){let t=e.error;return{objectId:t.object_id,version:t.version,digest:t.digest}}}(e)}ea({objectId:ec(),atCheckpoint:eo(es())}),ea({data:Y(tP),nextCursor:eo(en(ec())),hasNextPage:ee()}),ed([ea({details:t$,status:er("VersionFound")}),ea({details:ec(),status:er("ObjectNotExists")}),ea({details:tT,status:er("ObjectDeleted")}),ea({details:el([ec(),es()]),status:er("VersionNotFound")}),ea({details:ea({asked_version:es(),latest_version:es(),object_id:ec()}),status:er("VersionTooHigh")})]),Y(ed([ec(),ea({Object:ec()})]));let t_=ea({address:ec(),name:ec()}),tN=ed([er("Private"),er("Public"),er("Friend")]),tR=ea({abilities:Y(ec())}),tD=ea({constraints:tR,isPhantom:ee()}),tV=ea({TypeParameter:es()}),tq=el([ea({module:ec(),package:ec(),function:ec()}),ec()]);function tK(e){return!!e&&(!!("string"==typeof e||J(e,tV)||tW(e))||"object"==typeof e&&!!(J(e.Reference,tL)||J(e.MutableReference,tL)||J(e.Vector,tL)))}ea({rank3Days:Y(tq),rank7Days:Y(tq),rank30Days:Y(tq)});let tL=H("SuiMoveNormalizedType",tK);function tW(e){if(!e||"object"!=typeof e||!e.Struct||"object"!=typeof e.Struct)return!1;let t=e.Struct;return!("string"!=typeof t.address||"string"!=typeof t.module||"string"!=typeof t.name||!Array.isArray(t.typeArguments)||!t.typeArguments.every(e=>tK(e)))}H("SuiMoveNormalizedStructType",tW);let tF=ea({visibility:tN,isEntry:ee(),typeParameters:Y(tR),parameters:Y(tL),return:Y(tL)}),tG=ea({name:ec(),type:tL}),tJ=ea({abilities:tR,typeParameters:Y(tD),fields:Y(tG)}),tZ=ea({fileFormatVersion:es(),address:ec(),name:ec(),friends:Y(t_),structs:eu(ec(),tJ),exposedFunctions:eu(ec(),tF)});function tX(e){return"object"==typeof e&&"MutableReference"in e?e.MutableReference:void 0}function tH(e){return"object"==typeof e&&"Reference"in e?e.Reference:void 0}function tQ(e){if("object"==typeof e&&"Struct"in e)return e;let t=tH(e),r=tX(e);return"object"==typeof t&&"Struct"in t?t:"object"==typeof r&&"Struct"in r?r:void 0}eu(ec(),tZ);let tY=ed([ea({ImmOrOwned:tT}),ea({Shared:ea({objectId:ec(),initialSharedVersion:ed([et(),ec()]),mutable:ee()})}),ea({Receiving:tT})]),t0=ea({Pure:Y(et())}),t1=ea({Object:tY}),t2=ed([t0,t1]),t6={Pure:function(e,t){return{Pure:Array.from(e instanceof Uint8Array?e:M(e)?e.toBytes():tb.ser(t,e,{maxSize:1/0}).toBytes())}},ObjectRef:({objectId:e,digest:t,version:r})=>({Object:{ImmOrOwned:{digest:t,version:r,objectId:(0,u.u)(e)}}}),SharedObjectRef:({objectId:e,mutable:t,initialSharedVersion:r})=>({Object:{Shared:{mutable:t,initialSharedVersion:r,objectId:(0,u.u)(e)}}}),ReceivingRef:({objectId:e,digest:t,version:r})=>({Object:{Receiving:{digest:t,version:r,objectId:(0,u.u)(e)}}})};function t8(e){return"string"==typeof e?(0,u.u)(e):"ImmOrOwned"in e.Object?(0,u.u)(e.Object.ImmOrOwned.objectId):"Receiving"in e.Object?(0,u.u)(e.Object.Receiving.objectId):(0,u.u)(e.Object.Shared.objectId)}let t4={address:u.x,module:"object",name:"ID"},t3={address:u.M,module:"ascii",name:"String"},t5={address:u.M,module:"string",name:"String"},t9={address:u.M,module:"option",name:"Option"},t7=(e,t)=>e.address===t.address&&e.module===t.module&&e.name===t.name;function re(e,t){if(!(typeof t>"u")&&typeof t!==e)throw Error(`Expect ${t} to be ${e}, received ${typeof t}`)}let rt=["Address","Bool","U8","U16","U32","U64","U128","U256"],rr=ed([ea({kind:er("Input"),index:et(),value:eo(Q()),type:eo(er("object"))}),ea({kind:er("Input"),index:et(),value:eo(Q()),type:er("pure")})]),ri=ed([rr,ea({kind:er("GasCoin")}),ea({kind:er("Result"),index:et()}),ea({kind:er("NestedResult"),index:et(),resultIndex:et()})]),rn=ea({kind:er("MoveCall"),target:H("target",ec().validator),typeArguments:Y(ec()),arguments:Y(ri)}),rs=ea({kind:er("TransferObjects"),objects:Y(ri),address:ri}),ra=ea({kind:er("SplitCoins"),coin:ri,amounts:Y(ri)}),ro=ea({kind:er("MergeCoins"),destination:ri,sources:Y(ri)}),ru=ea({kind:er("MakeMoveVec"),type:eo((n=eu(ec(),eh()),ed([ea({None:ed([er(!0),er(null)])}),ea({Some:n})]))),objects:Y(ri)}),rc=ea({kind:er("Publish"),modules:Y(Y(et())),dependencies:Y(ec())}),rl=ea({kind:er("Upgrade"),modules:Y(Y(et())),dependencies:Y(ec()),packageId:ec(),ticket:ri}),rd=ed([rn,rs,ra,ro,rc,rl,ru]),rh=e=>F({kind:"MoveCall",target:e.target,arguments:e.arguments??[],typeArguments:e.typeArguments??[]},rn),rp=(e,t)=>("Input"===t.kind&&"pure"===t.type&&"object"!=typeof t.value&&(t.value=t6.Pure(tb.Address.serialize(t.value))),F({kind:"TransferObjects",objects:e,address:t},rs)),rf=(e,t)=>(t.forEach(e=>{"Input"===e.kind&&"pure"===e.type&&"object"!=typeof e.value&&(e.value=t6.Pure(tb.U64.serialize(e.value)))}),F({kind:"SplitCoins",coin:e,amounts:t},ra)),rg=(e,t)=>F({kind:"MergeCoins",destination:e,sources:t},ro),rm=({modules:e,dependencies:t})=>F({kind:"Publish",modules:e.map(e=>"string"==typeof e?Array.from(p(e)):e),dependencies:t.map(e=>(0,u.z)(e))},rc),ry=({modules:e,dependencies:t,packageId:r,ticket:i})=>F({kind:"Upgrade",modules:e.map(e=>"string"==typeof e?Array.from(p(e)):e),dependencies:t.map(e=>(0,u.z)(e)),packageId:r,ticket:i},rl),rw=({type:e,objects:t})=>F({kind:"MakeMoveVec",type:e?{Some:eZ.parseFromStr(e)}:{None:null},objects:t},ru),rb=eo(en(ed([ea({Epoch:et()}),ea({None:ed([er(!0),er(null)])})]))),rv=H("StringEncodedBigint",e=>{if(!["string","number","bigint"].includes(typeof e))return!1;try{return BigInt(e),!0}catch{return!1}}),rS=ea({budget:eo(rv),price:eo(rv),payment:eo(Y(tT)),owner:eo(ec())}),rT=ea({version:er(1),sender:eo(ec()),expiration:rb,gasConfig:rS,inputs:Y(rr),transactions:Y(rd)});function rk(e){return(0,u.u)(e).replace("0x","")}class rx{constructor(e){this.version=1,this.sender=null==e?void 0:e.sender,this.expiration=null==e?void 0:e.expiration,this.gasConfig=(null==e?void 0:e.gasConfig)??{},this.inputs=(null==e?void 0:e.inputs)??[],this.transactions=(null==e?void 0:e.transactions)??[]}static fromKindBytes(e){var t;let r=tb.TransactionKind.parse(e),i="ProgrammableTransaction"in r?r.ProgrammableTransaction:null;if(!i)throw Error("Unable to deserialize from bytes.");let n=(t={version:1,gasConfig:{},inputs:i.inputs.map((e,t)=>F({kind:"Input",value:e,index:t,type:J(e,t0)?"pure":"object"},rr)),transactions:i.transactions},F(t,rT));return rx.restore(n)}static fromBytes(e){var t,r;let i=tb.TransactionData.parse(e),n=null==i?void 0:i.V1,a="ProgrammableTransaction"in n.kind?null==(t=null==n?void 0:n.kind)?void 0:t.ProgrammableTransaction:null;if(!n||!a)throw Error("Unable to deserialize from bytes.");let o=(r={version:1,sender:n.sender,expiration:n.expiration,gasConfig:n.gasData,inputs:a.inputs.map((e,t)=>F({kind:"Input",value:e,index:t,type:J(e,t0)?"pure":"object"},rr)),transactions:a.transactions},F(r,rT));return rx.restore(o)}static restore(e){W(e,rT);let t=new rx;return Object.assign(t,e),t}static getDigestFromBytes(e){let t=function(e,t){let r=Array.from(`${e}::`).map(e=>e.charCodeAt(0)),i=new Uint8Array(r.length+t.length);return i.set(r),i.set(t,r.length),(0,u.y)(i,{dkLen:32})}("TransactionData",e);return(0,u.t)(t)}build({maxSizeBytes:e=1/0,overrides:t,onlyTransactionKind:r}={}){let i=this.inputs.map(e=>(W(e.value,t2),e.value)),n={ProgrammableTransaction:{inputs:i,transactions:this.transactions}};if(r)return tb.TransactionKind.serialize(n,{maxSize:e}).toBytes();let a=(null==t?void 0:t.expiration)??this.expiration,o=(null==t?void 0:t.sender)??this.sender,u={...this.gasConfig,...null==t?void 0:t.gasConfig};if(!o)throw Error("Missing transaction sender");if(!u.budget)throw Error("Missing gas budget");if(!u.payment)throw Error("Missing gas payment");if(!u.price)throw Error("Missing gas price");let c={sender:rk(o),expiration:a||{None:!0},gasData:{payment:u.payment,owner:rk(this.gasConfig.owner??o),price:BigInt(u.price),budget:BigInt(u.budget)},kind:{ProgrammableTransaction:{inputs:i,transactions:this.transactions}}};return tb.TransactionData.serialize({V1:c},{maxSize:e}).toBytes()}getDigest(){let e=this.build({onlyTransactionKind:!1});return rx.getDigestFromBytes(e)}snapshot(){return F(this,rT)}}var rE,rj,rI,rA,rB,rO,rC,rM,rz,r$,rP,rU,r_,rN,rR,rD,rV,rq=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},rK=(e,t,r)=>(rq(e,t,"read from private field"),r?r.call(e):t.get(e)),rL=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},rW=(e,t,r,i)=>(rq(e,t,"write to private field"),t.set(e,r),r),rF=(e,t,r)=>(rq(e,t,"access private method"),r);let rG={maxPureArgumentSize:16384,maxTxGas:5e10,maxGasObjects:256,maxTxSizeBytes:131072};function rJ(e){if(!e.client)throw Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}let rZ=Symbol.for("@mysten/transaction"),rX={maxTxGas:"max_tx_gas",maxGasObjects:"max_gas_payment_objects",maxTxSizeBytes:"max_tx_size_bytes",maxPureArgumentSize:"max_pure_argument_size"},rH=(e,t)=>Array.from({length:Math.ceil(e.length/t)},(r,i)=>e.slice(i*t,i*t+t)),rQ=class{constructor(e){rL(this,rj),rL(this,rA),rL(this,rO),rL(this,rM),rL(this,r$),rL(this,rU),rL(this,rN),rL(this,rD),rL(this,rE,void 0),rW(this,rE,new rx(e?e.blockData:void 0))}static fromKind(e){let t=new rQ;return rW(t,rE,rx.fromKindBytes("string"==typeof e?p(e):e)),t}static from(e){let t=new rQ;return"string"==typeof e&&e.startsWith("{")?rW(t,rE,rx.restore(JSON.parse(e))):rW(t,rE,rx.fromBytes("string"==typeof e?p(e):e)),t}setSender(e){rK(this,rE).sender=e}setSenderIfNotSet(e){rK(this,rE).sender||(rK(this,rE).sender=e)}setExpiration(e){rK(this,rE).expiration=e}setGasPrice(e){rK(this,rE).gasConfig.price=String(e)}setGasBudget(e){rK(this,rE).gasConfig.budget=String(e)}setGasOwner(e){rK(this,rE).gasConfig.owner=e}setGasPayment(e){rK(this,rE).gasConfig.payment=e.map(e=>G(e,tT))}get blockData(){return rK(this,rE).snapshot()}get[rZ](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:function(e){function t(t,r){return e(t,r)}return t.u8=t=>e(tb.U8.serialize(t)),t.u16=t=>e(tb.U16.serialize(t)),t.u32=t=>e(tb.U32.serialize(t)),t.u64=t=>e(tb.U64.serialize(t)),t.u128=t=>e(tb.U128.serialize(t)),t.u256=t=>e(tb.U256.serialize(t)),t.bool=t=>e(tb.Bool.serialize(t)),t.string=t=>e(tb.String.serialize(t)),t.address=t=>e(tb.Address.serialize(t)),t.id=t.address,t}((e,t)=>M(e)?rF(this,rj,rI).call(this,"pure",{Pure:Array.from(e.toBytes())}):rF(this,rj,rI).call(this,"pure",e instanceof Uint8Array?t6.Pure(e):t?t6.Pure(e,t):e))}),this.pure}get gas(){return{kind:"GasCoin"}}object(e){if("object"==typeof e&&"kind"in e)return e;let t=t8(e),r=rK(this,rE).inputs.find(e=>"object"===e.type&&t===t8(e.value));return r&&J(r.value,t1)&&"Shared"in r.value.Object&&J(e,t1)&&"Shared"in e.Object&&(r.value.Object.Shared.mutable=r.value.Object.Shared.mutable||e.Object.Shared.mutable),r??rF(this,rj,rI).call(this,"object","string"==typeof e?(0,u.u)(e):e)}objectRef(...e){return this.object(t6.ObjectRef(...e))}receivingRef(...e){return this.object(t6.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(t6.SharedObjectRef(...e))}add(e){return function(e){let t=[],r=r=>t[r]??(t[r]={kind:"NestedResult",index:e,resultIndex:r});return new Proxy({kind:"Result",index:e},{set(){throw Error("The transaction result is a proxy, and does not support setting properties directly")},get(e,t){if(t in e)return Reflect.get(e,t);if(t===Symbol.iterator)return function*(){let e=0;for(;;)yield r(e),e++};if("symbol"==typeof t)return;let i=parseInt(t,10);if(!(Number.isNaN(i)||i<0))return r(i)}})}(rK(this,rE).transactions.push(e)-1)}splitCoins(e,t){return this.add(rf("string"==typeof e?this.object(e):e,t.map(e=>"number"==typeof e||"bigint"==typeof e||"string"==typeof e?this.pure.u64(e):rF(this,rA,rB).call(this,e))))}mergeCoins(e,t){return this.add(rg("string"==typeof e?this.object(e):e,t.map(e=>"string"==typeof e?this.object(e):e)))}publish({modules:e,dependencies:t}){return this.add(rm({modules:e,dependencies:t}))}upgrade({modules:e,dependencies:t,packageId:r,ticket:i}){return this.add(ry({modules:e,dependencies:t,packageId:r,ticket:"string"==typeof i?this.object(i):i}))}moveCall({arguments:e,typeArguments:t,target:r}){return this.add(rh({arguments:null==e?void 0:e.map(e=>rF(this,rA,rB).call(this,e)),typeArguments:t,target:r}))}transferObjects(e,t){return this.add(rp(e.map(e=>"string"==typeof e?this.object(e):e),"string"==typeof t?this.pure.address(t):rF(this,rA,rB).call(this,t)))}makeMoveVec({type:e,objects:t}){return this.add(rw({type:e,objects:t.map(e=>"string"==typeof e?this.object(e):e)}))}serialize(){return JSON.stringify(rK(this,rE).snapshot())}async sign(e){let{signer:t,...r}=e,i=await this.build(r);return t.signTransactionBlock(i)}async build(e={}){return await rF(this,rD,rV).call(this,e),rK(this,rE).build({maxSizeBytes:rF(this,rO,rC).call(this,"maxTxSizeBytes",e),onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await rF(this,rD,rV).call(this,e),rK(this,rE).getDigest()}};rE=new WeakMap,rj=new WeakSet,rI=function(e,t){let r=rK(this,rE).inputs.length,i=F({kind:"Input",value:"bigint"==typeof t?String(t):t,index:r,type:e},rr);return rK(this,rE).inputs.push(i),i},rA=new WeakSet,rB=function(e){return M(e)?this.pure(e):e},rO=new WeakSet,rC=function(e,{protocolConfig:t,limits:r}){if(r&&"number"==typeof r[e])return r[e];if(!t)return rG[e];let i=null==t?void 0:t.attributes[rX[e]];if(!i)throw Error(`Missing expected protocol config: "${rX[e]}"`);let n="u64"in i?i.u64:"u32"in i?i.u32:i.f64;if(!n)throw Error(`Unexpected protocol config value found for: "${rX[e]}"`);return Number(n)},rM=new WeakSet,rz=function(e){let t=rF(this,rO,rC).call(this,"maxPureArgumentSize",e);rK(this,rE).inputs.forEach((e,r)=>{if(J(e.value,t0)&&e.value.Pure.length>t)throw Error(`Input at index ${r} is too large, max pure input size is ${t} bytes, got ${e.value.Pure.length} bytes`)})},r$=new WeakSet,rP=async function(e){if(rK(this,rE).gasConfig.payment){let t=rF(this,rO,rC).call(this,"maxGasObjects",e);if(rK(this,rE).gasConfig.payment.length>t)throw Error(`Payment objects exceed maximum amount: ${t}`)}if(e.onlyTransactionKind||rK(this,rE).gasConfig.payment)return;let t=rK(this,rE).gasConfig.owner??rK(this,rE).sender,r=(await rJ(e).getCoins({owner:t,coinType:u.B})).data.filter(e=>!rK(this,rE).inputs.find(t=>!!J(t.value,t2)&&"Object"in t.value&&"ImmOrOwned"in t.value.Object&&e.coinObjectId===t.value.Object.ImmOrOwned.objectId)).slice(0,rF(this,rO,rC).call(this,"maxGasObjects",e)-1).map(e=>({objectId:e.coinObjectId,digest:e.digest,version:e.version}));if(!r.length)throw Error("No valid gas coins found for the transaction.");this.setGasPayment(r)},rU=new WeakSet,r_=async function(e){e.onlyTransactionKind||rK(this,rE).gasConfig.price||this.setGasPrice(await rJ(e).getReferenceGasPrice())},rN=new WeakSet,rR=async function(e){let{inputs:t,transactions:r}=rK(this,rE),i=[],n=[];if(t.forEach(e=>{if("object"===e.type&&"string"==typeof e.value){n.push({id:(0,u.u)(e.value),input:e});return}}),r.forEach(e=>{if("MoveCall"===e.kind&&e.arguments.some(e=>"Input"===e.kind&&!J(t[e.index].value,t2))&&i.push(e),"SplitCoins"===e.kind&&e.amounts.forEach(e=>{if("Input"===e.kind){let r=t[e.index];"object"!=typeof r.value&&(r.value=t6.Pure(tb.U64.serialize(r.value)))}}),"TransferObjects"===e.kind&&"Input"===e.address.kind){let r=t[e.address.index];"object"!=typeof r.value&&(r.value=t6.Pure(tb.Address.serialize(r.value)))}}),i.length&&await Promise.all(i.map(async r=>{let[i,a,o]=r.target.split("::"),c=await rJ(e).getNormalizedMoveFunction({package:(0,u.z)(i),module:a,function:o}),l=c.parameters.length>0&&function(e){var t;let r=null==(t=tQ(e))?void 0:t.Struct;return(null==r?void 0:r.address)==="0x2"&&(null==r?void 0:r.module)==="tx_context"&&(null==r?void 0:r.name)==="TxContext"}(c.parameters.at(-1))?c.parameters.slice(0,c.parameters.length-1):c.parameters;if(l.length!==r.arguments.length)throw Error("Incorrect number of arguments.");l.forEach((e,i)=>{let a=r.arguments[i];if("Input"!==a.kind)return;let o=t[a.index];if(J(o.value,t2))return;let c=o.value,l=function e(t,r){if("string"==typeof t&&rt.includes(t)){if(t in["U8","U16","U32","U64","U128","U256"])re("number",r);else if("Bool"===t)re("boolean",r);else if("Address"===t&&(re("string",r),r&&!(0,u.w)(r)))throw Error("Invalid Sui Address");return t.toLowerCase()}if("string"==typeof t)throw Error(`Unknown pure normalized type ${JSON.stringify(t,null,2)}`);if("Vector"in t){if((void 0===r||"string"==typeof r)&&"U8"===t.Vector)return"string";if(void 0!==r&&!Array.isArray(r))throw Error(`Expect ${r} to be a array, received ${typeof r}`);let i=e(t.Vector,r?r[0]:void 0);return void 0===i?void 0:`vector<${i}>`}if("Struct"in t){if(t7(t.Struct,t3))return"string";if(t7(t.Struct,t5))return"utf8string";if(t7(t.Struct,t4))return"address";if(t7(t.Struct,t9))return e({Vector:t.Struct.typeArguments[0]},r)}}(e,c);if(l){o.value=t6.Pure(c,l);return}if(null!=tQ(e)||"object"==typeof e&&"TypeParameter"in e){if("string"!=typeof c)throw Error(`Expect the argument to be an object id string, got ${JSON.stringify(c,null,2)}`);n.push({id:c,input:o,normalizedType:e});return}throw Error(`Unknown call arg type ${JSON.stringify(e,null,2)} for value ${JSON.stringify(c,null,2)}`)})})),n.length){let t=[...new Set(n.map(({id:e})=>e))],r=rH(t,50),i=(await Promise.all(r.map(t=>rJ(e).multiGetObjects({ids:t,options:{showOwner:!0}})))).flat(),a=new Map(t.map((e,t)=>[e,i[t]])),o=Array.from(a).filter(([e,t])=>t.error).map(([e,t])=>e);if(o.length)throw Error(`The following input objects are invalid: ${o.join(", ")}`);n.forEach(({id:e,input:t,normalizedType:r})=>{var i,n,o;let u=a.get(e),c=null==(i=u.data)?void 0:i.owner,l=c&&"object"==typeof c&&"Shared"in c?c.Shared.initial_shared_version:void 0;if(l){let i=null!=r&&null==tX(r)&&null==tH(r),a=((null==(n="object"==typeof(o=t.value)&&"Object"in o&&"Shared"in o.Object?o.Object.Shared:void 0)?void 0:n.mutable)??!1)||i||null!=r&&null!=tX(r);t.value=t6.SharedObjectRef({objectId:e,initialSharedVersion:l,mutable:a})}else r&&function(e){let t=tQ(e);return!!t&&"0x2"===t.Struct.address&&"transfer"===t.Struct.module&&"Receiving"===t.Struct.name}(r)?t.value=t6.ReceivingRef(tU(u)):t.value=t6.ObjectRef(tU(u))})}},rD=new WeakSet,rV=async function(e){if(!e.onlyTransactionKind&&!rK(this,rE).sender)throw Error("Missing transaction sender");if(e.protocolConfig||e.limits||!e.client||(e.protocolConfig=await e.client.getProtocolConfig()),await Promise.all([rF(this,rU,r_).call(this,e),rF(this,rN,rR).call(this,e)]),!e.onlyTransactionKind&&(await rF(this,r$,rP).call(this,e),!rK(this,rE).gasConfig.budget)){let t=await rJ(e).dryRunTransactionBlock({transactionBlock:rK(this,rE).build({maxSizeBytes:rF(this,rO,rC).call(this,"maxTxSizeBytes",e),overrides:{gasConfig:{budget:String(rF(this,rO,rC).call(this,"maxTxGas",e)),payment:[]}}})});if("success"!==t.effects.status.status)throw Error(`Dry run failed, could not automatically determine a budget: ${t.effects.status.error}`,{cause:t});let r=1000n*BigInt(this.blockData.gasConfig.price||1n),i=BigInt(t.effects.gasUsed.computationCost)+r,n=i+BigInt(t.effects.gasUsed.storageCost)-BigInt(t.effects.gasUsed.storageRebate);this.setGasBudget(n>i?n:i)}rF(this,rM,rz).call(this,e)};let rY=Symbol.for("@mysten/SuiClient");class r0{get[rY](){return!0}constructor(e){this.transport=e.transport??new eF({url:e.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(e){if(!e.owner||!(0,u.w)((0,u.u)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit]})}async getAllCoins(e){if(!e.owner||!(0,u.w)((0,u.u)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit]})}async getBalance(e){if(!e.owner||!(0,u.w)((0,u.u)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType]})}async getAllBalances(e){if(!e.owner||!(0,u.w)((0,u.u)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner]})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType]})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType]})}async call(e,t){return await this.transport.request({method:e,params:t})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function]})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package]})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module]})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function]})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct]})}async getOwnedObjects(e){if(!e.owner||!(0,u.w)((0,u.u)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit]})}async getObject(e){if(!e.id||!(0,u.D)((0,u.z)(e.id)))throw Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options]})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options]})}async multiGetObjects(e){if(e.ids.forEach(e=>{if(!e||!(0,u.D)((0,u.z)(e)))throw Error(`Invalid Sui Object id ${e}`)}),e.ids.length!==new Set(e.ids).size)throw Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options]})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,"descending"===(e.order||"descending")]})}async getTransactionBlock(e){if(!(0,u.F)(e.digest))throw Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options]})}async multiGetTransactionBlocks(e){if(e.digests.forEach(e=>{if(!(0,u.F)(e))throw Error(`Invalid Transaction digest ${e}`)}),e.digests.length!==new Set(e.digests).size)throw Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options]})}async executeTransactionBlock(e){return await this.transport.request({method:"sui_executeTransactionBlock",params:["string"==typeof e.transactionBlock?e.transactionBlock:f(e.transactionBlock),Array.isArray(e.signature)?e.signature:[e.signature],e.options,e.requestType]})}async signAndExecuteTransactionBlock({transactionBlock:e,signer:t,...r}){let i;e instanceof Uint8Array?i=e:(e.setSenderIfNotSet(t.toSuiAddress()),i=await e.build({client:this}));let{signature:n,bytes:a}=await t.signTransactionBlock(i);return this.executeTransactionBlock({transactionBlock:a,signature:n,...r})}async getTotalTransactionBlocks(){return BigInt(await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]}))}async getReferenceGasPrice(){return BigInt(await this.transport.request({method:"suix_getReferenceGasPrice",params:[]}))}async getStakes(e){if(!e.owner||!(0,u.w)((0,u.u)(e.owner)))throw Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner]})}async getStakesByIds(e){return e.stakedSuiIds.forEach(e=>{if(!e||!(0,u.D)((0,u.z)(e)))throw Error(`Invalid Sui Stake id ${e}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,"descending"===(e.order||"descending")]})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage})}async devInspectTransactionBlock(e){var t,r;let i;if((r=e.transactionBlock)&&"object"==typeof r&&!0===r[rZ])e.transactionBlock.setSenderIfNotSet(e.sender),i=f(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if("string"==typeof e.transactionBlock)i=e.transactionBlock;else if(e.transactionBlock instanceof Uint8Array)i=f(e.transactionBlock);else throw Error("Unknown transaction block format.");return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,i,null==(t=e.gasPrice)?void 0:t.toString(),e.epoch]})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:["string"==typeof e.transactionBlock?e.transactionBlock:f(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!(0,u.D)((0,u.z)(e.parentId)))throw Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit]})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name]})}async getLatestCheckpointSequenceNumber(){return String(await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]}))}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id]})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,null==e?void 0:e.limit,e.descendingOrder]})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[null==e?void 0:e.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[null==e?void 0:e.cursor,null==e?void 0:e.limit,null==e?void 0:e.descendingOrder]})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[null==e?void 0:e.descendingOrder]})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[null==e?void 0:e.cursor,null==e?void 0:e.limit,null==e?void 0:e.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){let e=await this.getCheckpoint({id:"0"});return m((0,u.s)(e.digest).slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name]})}async resolveNameServiceNames(e){return await this.transport.request({method:"suix_resolveNameServiceNames",params:[e.address,e.cursor,e.limit]})}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[null==e?void 0:e.version]})}async waitForTransactionBlock({signal:e,timeout:t=6e4,pollInterval:r=2e3,...i}){let n=AbortSignal.timeout(t),a=new Promise((e,t)=>{n.addEventListener("abort",()=>t(n.reason))});for(a.catch(()=>{});!n.aborted;){null==e||e.throwIfAborted();try{return await this.getTransactionBlock(i)}catch{await Promise.race([new Promise(e=>setTimeout(e,r)),a])}}throw n.throwIfAborted(),Error("Unexpected error while waiting for transaction block.")}}class r1 extends u.C{}let r2=e=>{var t;let r=null==(t=e.data)?void 0:t.content;return r&&"moveObject"===r.dataType?r.fields:null},r6=(e,t)=>{try{return(0,u.G)(e)===(0,u.G)(t)}catch{return!1}},r8=e=>(null==e?void 0:e.type)==="created",r4=e=>(null==e?void 0:e.type)==="published";function r3(e){return!Array.isArray(e)&&"object"==typeof e&&"fields"in e&&"type"in e}function r5(e){return"object"==typeof e&&!Array.isArray(e)&&!r3(e)}function r9(e){return"object"==typeof e&&"id"in e}let r7=e=>tb.ser("vector<u8>",e,{maxSize:16384}).toBytes(),ie=async(e,t)=>{let{data:r,error:i}=await e.getObject({id:t,options:{showContent:!0}});if(i)throw Error("Error getting object: "+i);if(!r||!r3(r.content))throw Error(`Cannot get oject for state id ${t}: `+r);return(0,u.I)(r.content.type)},it=async(e,t)=>{if(!(0,u.w)(t))throw Error(`Invalid object ID: ${t}`);return r2(await e.getObject({id:t,options:{showContent:!0}}))},ir=async(e,t)=>{let r,i;do{let n=await e.getDynamicFields({parentId:t,cursor:i});r=n.data.find(e=>e.name.type.endsWith("CurrentPackage")),i=n.hasNextPage?n.nextCursor:null}while(i&&!r)if(!r)throw Error("CurrentPackage not found");let n=r2(await e.getObject({id:r.objectId,options:{showContent:!0}}));if(!n||!r5(n))throw Error("Unable to get fields from object response");if(!("value"in n)||!r3(n.value))throw Error("Unable to get package id");return n.value.fields.package},ii=async(e,t,r)=>{let i=null,n=null,a=null,o;do{if(!(a=await e.getOwnedObjects({owner:r,filter:{StructType:`${t}::emitter::EmitterCap`},options:{showContent:!0},cursor:o}))||!a.data)throw Error("Failed to get owned objects");for(let e of a.data){if(!e.data)continue;let{version:t,objectId:r}=e.data;(null===i||t<i)&&(i=t,n=r)}o=a.hasNextPage?a.nextCursor:void 0}while(o)return n},is=async(e,t)=>{let r=new rQ,[i]=r.publish({modules:e.modules.map(e=>Array.from((0,u.H).decode(e))),dependencies:e.dependencies.map(e=>(0,u.z)(e))});return r.transferObjects([i],r.pure(t)),r},ia=class e extends u.h{constructor(t,r){super(t,r??(0,u.n)(t,e._platform))}getRpc(e){if(e in this.config)return new r0({url:this.config[e].rpc});throw Error("No configuration available for chain: "+e)}getChain(e){if(e in this.config)return new r1(e,this);throw Error("No configuration available for chain: "+e)}static nativeTokenId(t,r){if(!e.isSupportedChain(r))throw Error(`invalid chain for Sui: ${r}`);return(0,u.j).tokenId(r,u.J)}static isNativeTokenId(t,r,i){return!!e.isSupportedChain(r)&&i.chain===r&&this.nativeTokenId(t,r)===i}static isSupportedChain(t){return(0,u.l)(t)===e._platform}static async getDecimals(t,r,i){if((0,u.m)(i))return(0,u.o)(e._platform);let n=new u.K(i);try{let e=await it(r,n.toString());if(e&&"decimals"in e)return e.decimals}catch{}let a=await r.getCoinMetadata({coinType:n.toString()});if(null===a)throw Error(`Can't fetch decimals for token ${n.toString()}`);return a.decimals}static async getCoins(e,t,r){let i=[],n=null,a=new(0,u.K)(t).toString();do{let t=await e.getCoins({owner:a,coinType:r,cursor:n});i=[...i,...t.data],n=t.hasNextPage?t.nextCursor:null}while(n)return i}static async getBalance(e,t,r,i){if((0,u.m)(i)){let{totalBalance:e}=await t.getBalance({owner:r});return BigInt(e)}let{totalBalance:n}=await t.getBalance({owner:r,coinType:i.toString()});return BigInt(n)}static async getBalances(e,t,r,i){return(await Promise.all(i.map(async i=>{let n=await this.getBalance(e,t,r,i);return{[(0,u.m)(i)?"native":new(0,u.K)(i).toString()]:n}}))).reduce((e,t)=>Object.assign(e,t),{})}static async sendWait(e,t,r){let i=[];for(let e of r){let r=await t.executeTransactionBlock(e);await t.waitForTransactionBlock({digest:r.digest}),i.push(r.digest)}return i}static async getLatestBlock(e){return Number(await e.getLatestCheckpointSequenceNumber())}static async getLatestFinalizedBlock(e){return this.getLatestBlock(e)}static chainFromChainId(t){let r=(0,u.q)(e._platform,t);if(void 0===r)throw Error(`Unknown native chain id ${t}`);let[i,n]=r;return[i,n]}static async chainFromRpc(e){let t=await e.call("sui_getChainIdentifier",[]);return this.chainFromChainId(t)}};h(ia,"_platform","Sui");let io=ia;var iu={};Object.defineProperty(iu,"__esModule",{value:!0}),iu.bech32m=ib=iu.bech32=void 0;let ic="qpzry9x8gf2tvdw0s3jn54khce6mua7l",il={};for(let e=0;e<ic.length;e++)il[ic.charAt(e)]=e;function id(e){let t=e>>25;return(0x1ffffff&e)<<5^0x3b6a57b2&-(t>>0&1)^0x26508e6d&-(t>>1&1)^0x1ea119fa&-(t>>2&1)^0x3d4233dd&-(t>>3&1)^0x2a1462b3&-(t>>4&1)}function ih(e){let t=1;for(let r=0;r<e.length;++r){let i=e.charCodeAt(r);if(i<33||i>126)return"Invalid prefix ("+e+")";t=id(t)^i>>5}t=id(t);for(let r=0;r<e.length;++r){let i=e.charCodeAt(r);t=id(t)^31&i}return t}function ip(e,t,r,i){let n=0,a=0,o=(1<<r)-1,u=[];for(let i=0;i<e.length;++i)for(n=n<<t|e[i],a+=t;a>=r;)u.push(n>>(a-=r)&o);if(i)a>0&&u.push(n<<r-a&o);else{if(a>=t)return"Excess padding";if(n<<r-a&o)return"Non-zero padding"}return u}function ig(e){return ip(e,8,5,!0)}function im(e){let t=ip(e,5,8,!1);if(Array.isArray(t))return t}function iy(e){let t=ip(e,5,8,!1);if(Array.isArray(t))return t;throw Error(t)}function iw(e){let t;function r(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";let i=e.toLowerCase(),n=e.toUpperCase();if(e!==i&&e!==n)return"Mixed-case string "+e;let a=(e=i).lastIndexOf("1");if(-1===a)return"No separator character for "+e;if(0===a)return"Missing prefix for "+e;let o=e.slice(0,a),u=e.slice(a+1);if(u.length<6)return"Data too short";let c=ih(o);if("string"==typeof c)return c;let l=[];for(let e=0;e<u.length;++e){let t=u.charAt(e),r=il[t];if(void 0===r)return"Unknown character "+t;c=id(c)^r,e+6>=u.length||l.push(r)}return c!==t?"Invalid checksum for "+e:{prefix:o,words:l}}return t="bech32"===e?1:0x2bc830a3,{decodeUnsafe:function(e,t){let i=r(e,t);if("object"==typeof i)return i},decode:function(e,t){let i=r(e,t);if("object"==typeof i)return i;throw Error(i)},encode:function(e,r,i){if(i=i||90,e.length+7+r.length>i)throw TypeError("Exceeds length limit");let n=ih(e=e.toLowerCase());if("string"==typeof n)throw Error(n);let a=e+"1";for(let e=0;e<r.length;++e){let t=r[e];if(t>>5)throw Error("Non 5-bit word");n=id(n)^t,a+=ic.charAt(t)}for(let e=0;e<6;++e)n=id(n);n^=t;for(let e=0;e<6;++e){let t=n>>(5-e)*5&31;a+=ic.charAt(t)}return a},toWords:ig,fromWordsUnsafe:im,fromWords:iy}}var ib=iu.bech32=iw("bech32");iu.bech32m=iw("bech32m");var iv=((a=iv||{})[a.TransactionData=0]="TransactionData",a[a.TransactionEffects=1]="TransactionEffects",a[a.CheckpointSummary=2]="CheckpointSummary",a[a.PersonalMessage=3]="PersonalMessage",a);function iS(e,t){let r=[e,0,0],i=new Uint8Array(r.length+t.length);return i.set(r),i.set(t,r.length),i}let iT={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},ik={ED25519:32,Secp256k1:33,Secp256r1:33},ix={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"},iE=_.struct("ZkLoginSignature",{inputs:_.struct("ZkLoginSignatureInputs",{proofPoints:_.struct("ZkLoginSignatureInputsProofPoints",{a:_.vector(_.string()),b:_.vector(_.vector(_.string())),c:_.vector(_.string())}),issBase64Details:_.struct("ZkLoginSignatureInputsClaim",{value:_.string(),indexMod4:_.u8()}),headerBase64:_.string(),addressSeed:_.string()}),maxEpoch:_.u64(),userSignature:_.vector(_.u8())});class ij{async signWithIntent(e,t){let r=iS(t,e),i=(0,u.y)(r,{dkLen:32});return{signature:function({signature:e,signatureScheme:t,publicKey:r}){if(!r)throw Error("`publicKey` is required");let i=r.toRawBytes(),n=new Uint8Array(1+e.length+i.length);return n.set([iT[t]]),n.set(e,1),n.set(i,1+e.length),f(n)}({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:f(e)}}async signTransactionBlock(e){return this.signWithIntent(e,iv.TransactionData)}async signPersonalMessage(e){return this.signWithIntent(_.vector(_.u8()).serialize(e).toBytes(),iv.PersonalMessage)}toSuiAddress(){return this.getPublicKey().toSuiAddress()}}class iI extends ij{export(){return{schema:this.getKeyScheme(),privateKey:this.getSecretKey()}}}function iA(e){return!!RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(e)}let iB=0x80000000,iO=RegExp("^m(\\/[0-9]+')+$"),iC=e=>e.replace("'",""),iM=e=>{let t=(0,u.O).create(u.Q,"ed25519 seed").update(g(e)).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}},iz=({key:e,chainCode:t},r)=>{let i=new ArrayBuffer(4);new DataView(i).setUint32(0,r);let n=new Uint8Array(1+e.length+i.byteLength);n.set(new Uint8Array(1).fill(0)),n.set(e,1),n.set(new Uint8Array(i,0,i.byteLength),e.length+1);let a=(0,u.O).create(u.Q,t).update(n).digest();return{key:a.slice(0,32),chainCode:a.slice(32)}},i$=e=>!!iO.test(e)&&!e.split("/").slice(1).map(iC).some(isNaN),iP=(e,t,r=iB)=>{if(!i$(e))throw Error("Invalid derivation path");let{key:i,chainCode:n}=iM(t);return e.split("/").slice(1).map(iC).map(e=>parseInt(e,10)).reduce((e,t)=>iz(e,t+r),{key:i,chainCode:n})};function iU(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}class i_{equals(e){return iU(this.toRawBytes(),e.toRawBytes())}toBase64(){return f(this.toRawBytes())}toString(){throw Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){return f(this.toSuiBytes())}verifyWithIntent(e,t,r){let i=iS(r,e),n=(0,u.y)(i,{dkLen:32});return this.verify(n,t)}verifyPersonalMessage(e,t){return this.verifyWithIntent(tb.vector(tb.u8()).serialize(e).toBytes(),t,iv.PersonalMessage)}verifyTransactionBlock(e,t){return this.verifyWithIntent(e,t,iv.TransactionData)}toSuiBytes(){let e=this.toRawBytes(),t=new Uint8Array(e.length+1);return t.set([this.flag()]),t.set(e,1),t}toSuiAddress(){return(0,u.u)((0,u.N)((0,u.y)(this.toSuiBytes(),{dkLen:32})).slice(0,2*u.v))}}class iN extends i_{constructor(e){if(super(),"string"==typeof e?this.data=p(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),32!==this.data.length)throw Error(`Invalid public key input. Expected 32 bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return iT.ED25519}async verify(e,t){let r;if("string"==typeof t){let e=function(e){let t=p(e),r=ix[t[0]];switch(r){case"MultiSig":return{serializedSignature:e,signatureScheme:r,multisig:tb.MultiSig.parse(t.slice(1)),bytes:t};case"ZkLogin":var i;let{inputs:n,maxEpoch:a,userSignature:o}=(i=t.slice(1),iE.parse("string"==typeof i?p(i):i)),{issBase64Details:c,addressSeed:l}=n,d=function(e,t){let[r,i]=function(e){if("}"!==e.slice(-1)&&","!==e.slice(-1))throw Error("Invalid claim");let t=JSON.parse("{"+e.slice(0,-1)+"}");if(1!==Object.keys(t).length)throw Error("Invalid claim");let r=Object.keys(t)[0];return[r,t[r]]}(function(e,t){if(e.length<2)throw Error(`Input (s = ${e}) is not tightly packed because s.length < 2`);let r=function(e){let t=[];for(let r=0;r<e.length;r++){let i=function(e){if(1!==e.length)throw Error("Invalid base64Url character: "+e);let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(e);if(-1===t)throw Error("Invalid base64Url character: "+e);return Array.from(t.toString(2).padStart(6,"0")).map(Number)}(e.charAt(r));t=t.concat(i)}return t}(e),i=t%4;if(0!==i){if(1===i)r=r.slice(2);else if(2===i)r=r.slice(4);else throw Error(`Input (s = ${e}) is not tightly packed because i%4 = 3 (i = ${t}))`)}let n=(t+e.length-1)%4;if(3!==n){if(2===n)r=r.slice(0,r.length-2);else if(1===n)r=r.slice(0,r.length-4);else throw Error(`Input (s = ${e}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${t}))`)}if(r.length%8!=0)throw Error("We should never reach here...");let a=new Uint8Array(Math.floor(r.length/8)),o=0;for(let e=0;e<r.length;e+=8){let t=parseInt(r.slice(e,e+8).join(""),2);a[o++]=t}return new TextDecoder().decode(a)}(e.value,e.indexMod4));if("iss"!==r)throw Error(`Invalid field name: found ${r} expected iss`);return i}(c,"iss"),h=function(e,t){let r=function(e,t){let r=function(e,t){let r=e.toString(16);return(0,u.L)(r.padStart(64,"0").slice(-64))}(e,32),i=function(e){for(let t=0;t<e.length;t++)if(0!==e[t])return t;return -1}(r);return -1===i?new Uint8Array([0]):r.slice(i)}(e,0);"accounts.google.com"===t&&(t="https://accounts.google.com");let i=new TextEncoder().encode(t),n=new Uint8Array(2+r.length+i.length);return n.set([iT.ZkLogin]),n.set([i.length],1),n.set(i,2),n.set(r,2+i.length),(0,u.u)((0,u.N)((0,u.y)(n,{dkLen:32})).slice(0,2*u.v))}(BigInt(l),d);return{serializedSignature:e,signatureScheme:r,zkLogin:{inputs:n,maxEpoch:a,userSignature:o,iss:d,address:h,addressSeed:BigInt(l)},signature:t};case"ED25519":case"Secp256k1":case"Secp256r1":let f=ik[r],g=t.slice(1,t.length-f),m=t.slice(1+g.length);return{serializedSignature:e,signatureScheme:r,signature:g,publicKey:m,bytes:t};default:throw Error("Unsupported signature scheme")}}(t);if("ED25519"!==e.signatureScheme)throw Error("Invalid signature scheme");if(!iU(this.toRawBytes(),e.publicKey))throw Error("Signature does not match public key");r=e.signature}else r=t;return(0,u.R).sign.detached.verify(e,r,this.toRawBytes())}}iN.SIZE=32;let iR="m/44'/784'/0'/0'/0'";class iD extends iI{constructor(e){super(),e?this.keypair=e:this.keypair=(0,u.R).sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new iD((0,u.R).sign.keyPair())}static fromSecretKey(e,t){let r=e.length;if(32!==r)throw Error(`Wrong secretKey size. Expected 32 bytes, got ${r}.`);let i=(0,u.R).sign.keyPair.fromSeed(e);if(!t||!t.skipValidation){let e=new TextEncoder().encode("sui validation"),t=(0,u.R).sign.detached(e,i.secretKey);if(!(0,u.R).sign.detached.verify(e,t,i.publicKey))throw Error("provided secretKey is invalid")}return new iD(i)}getPublicKey(){return new iN(this.keypair.publicKey)}getSecretKey(){return function(e,t){if(32!==e.length)throw Error("Invalid bytes length");let r=iT[t],i=new Uint8Array(e.length+1);return i.set([r]),i.set(e,1),ib.encode("suiprivkey",ib.toWords(i))}(this.keypair.secretKey.slice(0,32),this.getKeyScheme())}async sign(e){return this.signData(e)}signData(e){return(0,u.R).sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,t){if(null==t&&(t=iR),!iA(t))throw Error("Invalid derivation path");let{key:r}=iP(t,m((0,c.m)(e,"")));return iD.fromSecretKey(r)}static deriveKeypairFromSeed(e,t){if(null==t&&(t=iR),!iA(t))throw Error("Invalid derivation path");let{key:r}=iP(t,e);return iD.fromSecretKey(r)}}async function iV(e,t){let[,r]=await io.chainFromRpc(e);return new iq(r,e,iD.deriveKeypair(t,"m/44'/784'/0'/0'/0'"))}class iq{constructor(e,t,r,i){h(this,"_chain"),h(this,"_client"),h(this,"_signer"),h(this,"_debug"),this._chain=e,this._client=t,this._signer=r,this._debug=i}chain(){return this._chain}address(){return this._signer.toSuiAddress()}async signAndSend(e){let t=[];for(let r of e){let{description:e,transaction:i}=r;this._debug&&console.log(`Signing ${e} for ${this.address()}`);try{let e=await this._client.signAndExecuteTransactionBlock({transactionBlock:i,signer:this._signer});t.push(e.digest)}catch(e){throw e}}return t}}let iK=Object.freeze(Object.defineProperty({__proto__:null,default:{Address:u.K,Platform:io,getSigner:iV,protocols:{WormholeCore:()=>e("7cb10d1e2f1bb8da"),TokenBridge:()=>e("6e30f0f26ef0509e"),CircleBridge:()=>e("c297cc40e49290da")},getChain:(e,t,r)=>new r1(t,new io(e,(0,u.c)(e,"Sui",{[t]:r})))}},Symbol.toStringTag,{value:"Module"}))},{"./index-DTF6KsXj.mjs":"ieLDt","./index-C4GAV8CF.mjs":"fewAb","7cb10d1e2f1bb8da":"bS7Cl","6e30f0f26ef0509e":"bqmMy",c297cc40e49290da:"1ey7O","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],fewAb:[function(e,t,r,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"m",()=>c);var a=e("./index-DTF6KsXj.mjs");/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */function o(e){if("string"!=typeof e)throw TypeError("invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}let u=e=>o("mnemonic"+e);function c(e,t=""){return function(e,t,r,i){var n;let o;let{c:u,dkLen:c,DK:l,PRF:d,PRFSalt:h}=function(e,t,r,i){(0,a.aU)(e);let{c:n,dkLen:o,asyncTick:u}=(0,a.aV)({dkLen:32,asyncTick:10},i);if((0,a.aW)(n),(0,a.aW)(o),(0,a.aW)(u),n<1)throw Error("PBKDF2: iterations (c) should be >= 1");let c=(0,a.aX)(t),l=(0,a.aX)(r),d=new Uint8Array(o),h=(0,a.O).create(e,c),p=h._cloneInto().update(l);return{c:n,dkLen:o,asyncTick:u,DK:d,PRF:h,PRFSalt:p}}(e,t,r,i),p=new Uint8Array(4),f=(0,a.aJ)(p),g=new Uint8Array(d.outputLen);for(let e=1,t=0;t<c;e++,t+=d.outputLen){let r=l.subarray(t,t+d.outputLen);f.setInt32(0,e,!1),(o=h._cloneInto(o)).update(p).digestInto(g),r.set(g.subarray(0,r.length));for(let e=1;e<u;e++){d._cloneInto(o).update(g).digestInto(g);for(let e=0;e<r.length;e++)r[e]^=g[e]}}return n=o,d.destroy(),h.destroy(),n&&n.destroy(),g.fill(0),l}(a.Q,function(e){let t=o(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw Error("Invalid mnemonic");return{nfkd:t,words:r}}(e).nfkd,u(t),{c:2048,dkLen:64})}},{"./index-DTF6KsXj.mjs":"ieLDt","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],bS7Cl:[function(e,t,r,i){t.exports=e("54fc4e26eed33f06")(e("142de22024ee56bb").resolve("Av5l3")).then(()=>t.bundle.root("iyKkP"))},{"54fc4e26eed33f06":"9wKyf","142de22024ee56bb":"gSiLw"}],bqmMy:[function(e,t,r,i){t.exports=Promise.all([e("15779b2f47e4c2d2")(e("e3d348896c1f4673").resolve("Av5l3")),e("15779b2f47e4c2d2")(e("e3d348896c1f4673").resolve("dNr9o"))]).then(()=>t.bundle.root("gLwle"))},{"15779b2f47e4c2d2":"9wKyf",e3d348896c1f4673:"gSiLw"}],"1ey7O":[function(e,t,r,i){t.exports=e("970e851eb7e885bb")(e("20173a3195b8c62").resolve("51qDg")).then(()=>t.bundle.root("68ufG"))},{"970e851eb7e885bb":"9wKyf","20173a3195b8c62":"gSiLw"}]},[],0,"parcelRequire94c2");
//# sourceMappingURL=sui-Dhwkelcg.30cf2c13.js.map
