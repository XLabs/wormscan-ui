!function(e,t,r,n,o){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof i[n]&&i[n],a=s.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function d(t,r){if(!a[t]){if(!e[t]){var o="function"==typeof i[n]&&i[n];if(!r&&o)return o(t,!0);if(s)return s(t,!0);if(c&&"string"==typeof t)return c(t);var u=Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}h.resolve=function(r){var n=e[t][1][r];return null!=n?n:r},h.cache={};var l=a[t]=new d.Module(t);e[t][0].call(l.exports,h,l,l.exports,i)}return a[t].exports;function h(e){var t=h.resolve(e);return!1===t?{}:d(t)}}d.isParcelRequire=!0,d.Module=function(e){this.id=e,this.bundle=d,this.exports={}},d.modules=e,d.cache=a,d.parent=s,d.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(d,"root",{get:function(){return i[n]}}),i[n]=d;for(var u=0;u<t.length;u++)d(t[u])}({by0PN:[function(e,t,r,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"AptosWormholeCore",()=>u);var i=e("./index-DTF6KsXj.mjs"),s=e("./aptos-BDX0H0Be.mjs"),a=Object.defineProperty,c=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t,r)=>c(e,"symbol"!=typeof t?t+"":t,r);class u{constructor(e,t,r,n){d(this,"network"),d(this,"chain"),d(this,"connection"),d(this,"contracts"),d(this,"chainId"),d(this,"coreBridge"),this.network=e,this.chain=t,this.connection=r,this.contracts=n,this.chainId=(0,i.b6)(t);let o=n.coreBridge;if(!o)throw Error(`CoreBridge contract Address for chain ${t} not found`);this.coreBridge=o}getGuardianSet(e){throw Error("Method not implemented.")}getGuardianSetIndex(){throw Error("Method not implemented.")}getMessageFee(){throw Error("Method not implemented.")}static async fromRpc(e,t){let[r,n]=await (0,s.A).chainFromRpc(e),o=t[n];if(o.network!==r)throw Error(`Network mismatch: ${o.network} !== ${r}`);return new u(r,n,e,o.contracts)}async *publishMessage(e,t){throw Error("Method not implemented.")}async *verifyMessage(e,t){throw Error("Not implemented.")}async parseTransaction(e){return(await this.parseMessages(e)).map(e=>({chain:e.emitterChain,emitter:e.emitterAddress,sequence:e.sequence}))}async parseMessages(e){let t=await this.connection.getTransactionByHash({transactionHash:e});if("user_transaction"!==t.type)throw Error(`${e} is not a user_transaction`);let r=t.events.filter(e=>e.type.endsWith("WormholeMessage"));if(!r||0===r.length)throw Error(`WormholeMessage not found for ${e}`);return r.map(e=>{let t=e.data,r=new i.bB(BigInt(t.sender).toString(16).padStart(64,"0"));return(0,i.cc)("Uint8Array",{guardianSet:0,emitterChain:this.chain,emitterAddress:r,sequence:BigInt(t.sequence),timestamp:Number(t.timestamp),consistencyLevel:t.consistency_level,nonce:Number(t.nonce),signatures:[],payload:(0,i.r).decode(t.payload)})})}}(0,i.bj)("Aptos","WormholeCore",u)},{"./index-DTF6KsXj.mjs":"ieLDt","./aptos-BDX0H0Be.mjs":"d6zRe","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}]},[],0,"parcelRequire94c2");
//# sourceMappingURL=index-x9MHrEk4.1cb64372.js.map
